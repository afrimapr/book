<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Example | The afrimapr book</title>
  <meta name="description" content="An introduction to making maps from African data in R." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Example | The afrimapr book" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="An introduction to making maps from African data in R." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Example | The afrimapr book" />
  
  <meta name="twitter:description" content="An introduction to making maps from African data in R." />
  

<meta name="author" content="The afrimapr team" />


<meta name="date" content="2021-02-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-types.html"/>
<link rel="next" href="visualising1.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The afrimapr book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#spatial-data-outline"><i class="fa fa-check"></i><b>1.1</b> Spatial data outline</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="steps1.html"><a href="steps1.html"><i class="fa fa-check"></i><b>2</b> Step through a simple example of process of mapmaking</a></li>
<li class="chapter" data-level="3" data-path="rrecap.html"><a href="rrecap.html"><i class="fa fa-check"></i><b>3</b> R recap</a><ul>
<li class="chapter" data-level="3.1" data-path="rrecap.html"><a href="rrecap.html#setting-working-directory"><i class="fa fa-check"></i><b>3.1</b> Setting working directory</a></li>
<li class="chapter" data-level="3.2" data-path="rrecap.html"><a href="rrecap.html#creating-naming-and-saving-a-new-r-script"><i class="fa fa-check"></i><b>3.2</b> Creating, naming and saving a new R script</a></li>
<li class="chapter" data-level="3.3" data-path="rrecap.html"><a href="rrecap.html#executing-the-code"><i class="fa fa-check"></i><b>3.3</b> Executing the code</a></li>
<li class="chapter" data-level="3.4" data-path="rrecap.html"><a href="rrecap.html#install-and-load-packages"><i class="fa fa-check"></i><b>3.4</b> Install and load packages</a></li>
<li class="chapter" data-level="3.5" data-path="rrecap.html"><a href="rrecap.html#load-data"><i class="fa fa-check"></i><b>3.5</b> Load data</a></li>
<li class="chapter" data-level="3.6" data-path="rrecap.html"><a href="rrecap.html#basic-data-types"><i class="fa fa-check"></i><b>3.6</b> Basic data types</a><ul>
<li class="chapter" data-level="3.6.1" data-path="rrecap.html"><a href="rrecap.html#numeric-and-integer"><i class="fa fa-check"></i><b>3.6.1</b> Numeric and integer</a></li>
<li class="chapter" data-level="3.6.2" data-path="rrecap.html"><a href="rrecap.html#characters"><i class="fa fa-check"></i><b>3.6.2</b> Characters</a></li>
<li class="chapter" data-level="3.6.3" data-path="rrecap.html"><a href="rrecap.html#logical"><i class="fa fa-check"></i><b>3.6.3</b> Logical</a></li>
<li class="chapter" data-level="3.6.4" data-path="rrecap.html"><a href="rrecap.html#factors"><i class="fa fa-check"></i><b>3.6.4</b> Factors</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="rrecap.html"><a href="rrecap.html#basic-objects-and-data-structures"><i class="fa fa-check"></i><b>3.7</b> Basic objects and data structures</a><ul>
<li class="chapter" data-level="3.7.1" data-path="rrecap.html"><a href="rrecap.html#vector"><i class="fa fa-check"></i><b>3.7.1</b> Vector</a></li>
<li class="chapter" data-level="3.7.2" data-path="rrecap.html"><a href="rrecap.html#matrix"><i class="fa fa-check"></i><b>3.7.2</b> Matrix</a></li>
<li class="chapter" data-level="3.7.3" data-path="rrecap.html"><a href="rrecap.html#data-frame"><i class="fa fa-check"></i><b>3.7.3</b> Data frame</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="rrecap.html"><a href="rrecap.html#getting-help-with-r-help"><i class="fa fa-check"></i><b>3.8</b> Getting help with R Help</a></li>
<li class="chapter" data-level="3.9" data-path="rrecap.html"><a href="rrecap.html#wrap-up"><i class="fa fa-check"></i><b>3.9</b> Wrap up</a></li>
<li class="chapter" data-level="3.10" data-path="rrecap.html"><a href="rrecap.html#feedback"><i class="fa fa-check"></i><b>3.10</b> Feedback</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>4</b> Chapter 4 Spatial data types focusing on real examples: cities, roads, admin boundaries, surfaces</a><ul>
<li class="chapter" data-level="4.1" data-path="data-types.html"><a href="data-types.html#overall-goal-of-the-chapter"><i class="fa fa-check"></i><b>4.1</b> Overall goal of the chapter</a><ul>
<li class="chapter" data-level="4.1.1" data-path="data-types.html"><a href="data-types.html#the-episodes"><i class="fa fa-check"></i><b>4.1.1</b> The Episodes</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-types.html"><a href="data-types.html#episode-1-points"><i class="fa fa-check"></i><b>4.2</b> Episode 1: points</a><ul>
<li class="chapter" data-level="4.2.1" data-path="data-types.html"><a href="data-types.html#exercise-still-need-to-work-on-these"><i class="fa fa-check"></i><b>4.2.1</b> Exercise (still need to work on these)</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-types.html"><a href="data-types.html#exercise-2-using-different-data-museums-universities"><i class="fa fa-check"></i><b>4.2.2</b> Exercise 2 (using different data: museums, universities? )</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-types.html"><a href="data-types.html#episode-2-lines"><i class="fa fa-check"></i><b>4.3</b> Episode 2: Lines</a><ul>
<li class="chapter" data-level="4.3.1" data-path="data-types.html"><a href="data-types.html#exercise-1"><i class="fa fa-check"></i><b>4.3.1</b> Exercise 1</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-types.html"><a href="data-types.html#exercise-2-different-data-rivers-in-africa"><i class="fa fa-check"></i><b>4.3.2</b> Exercise 2 (different data: rivers in Africa?)</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-types.html"><a href="data-types.html#episode-3-polygons"><i class="fa fa-check"></i><b>4.4</b> Episode 3: Polygons</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="example.html"><a href="example.html"><i class="fa fa-check"></i><b>5</b> Example</a><ul>
<li class="chapter" data-level="5.0.1" data-path="example.html"><a href="example.html#exercise-1-1"><i class="fa fa-check"></i><b>5.0.1</b> Exercise 1</a></li>
<li class="chapter" data-level="5.0.2" data-path="example.html"><a href="example.html#exercise-2-different-data-game-reserves"><i class="fa fa-check"></i><b>5.0.2</b> Exercise 2 (different data: game reserves)</a></li>
<li class="chapter" data-level="5.1" data-path="example.html"><a href="example.html#episode-4-raster"><i class="fa fa-check"></i><b>5.1</b> Episode 4: Raster</a></li>
<li class="chapter" data-level="5.2" data-path="example.html"><a href="example.html#example-1"><i class="fa fa-check"></i><b>5.2</b> Example</a><ul>
<li class="chapter" data-level="5.2.1" data-path="example.html"><a href="example.html#exercise-1-2"><i class="fa fa-check"></i><b>5.2.1</b> Exercise 1</a></li>
<li class="chapter" data-level="5.2.2" data-path="example.html"><a href="example.html#exercise-2-different-data-elevation-data"><i class="fa fa-check"></i><b>5.2.2</b> Exercise 2 (different data: elevation data?)</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="example.html"><a href="example.html#summarykey-points"><i class="fa fa-check"></i><b>5.3</b> Summary/key points</a></li>
<li class="chapter" data-level="5.4" data-path="example.html"><a href="example.html#final-exercises-to-be-done"><i class="fa fa-check"></i><b>5.4</b> Final Exercises (to be done)</a><ul>
<li class="chapter" data-level="5.4.1" data-path="example.html"><a href="example.html#visualise"><i class="fa fa-check"></i><b>5.4.1</b> 1 Visualise</a></li>
<li class="chapter" data-level="5.4.2" data-path="example.html"><a href="example.html#user-story"><i class="fa fa-check"></i><b>5.4.2</b> 2 User story</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="example.html"><a href="example.html#further-resources"><i class="fa fa-check"></i><b>5.5</b> Further resources</a></li>
<li class="chapter" data-level="5.6" data-path="example.html"><a href="example.html#feedback-1"><i class="fa fa-check"></i><b>5.6</b> Feedback</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="visualising1.html"><a href="visualising1.html"><i class="fa fa-check"></i><b>6</b> Visualising spatial data part 1: tmap and mapview</a><ul>
<li class="chapter" data-level="6.1" data-path="visualising1.html"><a href="visualising1.html#quick-interactive-maps-with-mapview"><i class="fa fa-check"></i><b>6.1</b> Quick interactive maps with mapview</a></li>
<li class="chapter" data-level="6.2" data-path="visualising1.html"><a href="visualising1.html#static-maps-with-tmap"><i class="fa fa-check"></i><b>6.2</b> Static maps with tmap</a><ul>
<li class="chapter" data-level="6.2.1" data-path="visualising1.html"><a href="visualising1.html#layers-for-the-static-maps"><i class="fa fa-check"></i><b>6.2.1</b> Layers for the static maps</a></li>
<li class="chapter" data-level="6.2.2" data-path="visualising1.html"><a href="visualising1.html#colour-pallet"><i class="fa fa-check"></i><b>6.2.2</b> Colour pallet</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="visualising1.html"><a href="visualising1.html#interactive-maps-with-tmap"><i class="fa fa-check"></i><b>6.3</b> Interactive maps with tmap</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>7</b> Shiny interactive map applications</a></li>
<li class="chapter" data-level="8" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>8</b> Sources of data</a><ul>
<li class="chapter" data-level="8.0.1" data-path="data-sources.html"><a href="data-sources.html#hdx"><i class="fa fa-check"></i><b>8.0.1</b> HDX</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="joining.html"><a href="joining.html"><i class="fa fa-check"></i><b>9</b> Join non-spatial data onto spatial</a></li>
<li class="chapter" data-level="10" data-path="raster.html"><a href="raster.html"><i class="fa fa-check"></i><b>10</b> Raster manipulation</a></li>
<li class="chapter" data-level="11" data-path="openstreetmap.html"><a href="openstreetmap.html"><i class="fa fa-check"></i><b>11</b> OpenStreetMap data</a></li>
<li class="chapter" data-level="12" data-path="data-editing.html"><a href="data-editing.html"><i class="fa fa-check"></i><b>12</b> Creating and editing spatial data</a><ul>
<li class="chapter" data-level="12.1" data-path="data-editing.html"><a href="data-editing.html#create-a-vector-file-from-scratch"><i class="fa fa-check"></i><b>12.1</b> Create a vector file from scratch</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="visualising2.html"><a href="visualising2.html"><i class="fa fa-check"></i><b>13</b> Visualising spatial data part 2</a></li>
<li class="chapter" data-level="14" data-path="case-study1.html"><a href="case-study1.html"><i class="fa fa-check"></i><b>14</b> Case study 1</a><ul>
<li class="chapter" data-level="14.1" data-path="case-study1.html"><a href="case-study1.html#health-facility-locations-probably"><i class="fa fa-check"></i><b>14.1</b> Health facility locations (probably)</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="case-study2.html"><a href="case-study2.html"><i class="fa fa-check"></i><b>15</b> Case study 2</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="16" data-path="template.html"><a href="template.html"><i class="fa fa-check"></i><b>16</b> Template chapter</a><ul>
<li class="chapter" data-level="16.1" data-path="template.html"><a href="template.html#linking-section-1"><i class="fa fa-check"></i><b>16.1</b> Linking section 1</a></li>
<li class="chapter" data-level="16.2" data-path="template.html"><a href="template.html#overall-goal-of-the-chapter-1"><i class="fa fa-check"></i><b>16.2</b> Overall goal of the chapter</a></li>
<li class="chapter" data-level="16.3" data-path="template.html"><a href="template.html#episode-1-topic-1"><i class="fa fa-check"></i><b>16.3</b> Episode 1 (topic 1)</a></li>
<li class="chapter" data-level="16.4" data-path="template.html"><a href="template.html#episode-2-topic-2"><i class="fa fa-check"></i><b>16.4</b> Episode 2 (topic 2)</a></li>
<li class="chapter" data-level="16.5" data-path="template.html"><a href="template.html#episode-3-topic-3"><i class="fa fa-check"></i><b>16.5</b> Episode 3 (topic 3)</a></li>
<li class="chapter" data-level="16.6" data-path="template.html"><a href="template.html#linking-section-2"><i class="fa fa-check"></i><b>16.6</b> Linking section 2</a></li>
<li class="chapter" data-level="16.7" data-path="template.html"><a href="template.html#feedback-request-on-what-was-useful-to-the-reader-learner-and-what-can-be-improved"><i class="fa fa-check"></i><b>16.7</b> Feedback request on what was useful to the reader (learner) and what can be improved</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/afrimapr/book" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The afrimapr book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="example" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Example</h1>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="example.html#cb81-1"></a><span class="kw">print</span>(<span class="kw">st_geometry</span>(africountries)) <span class="co">#printing information on the geometry</span></span></code></pre></div>
<pre><code>## Geometry set for 51 features 
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: -17.62504 ymin: -34.81917 xmax: 51.13387 ymax: 37.34999
## geographic CRS: WGS 84
## First 5 geometries:</code></pre>
<p>The country border file contains 51 country outlines with geometry type <strong>MULTIPOLYGON</strong>.</p>
<p>If we print the first 6 rows of data, we can see how each country border is stored in the database</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="example.html#cb83-1"></a><span class="kw">head</span>(africountries) <span class="co">#First 6 rows of data are printed</span></span></code></pre></div>
<pre><code>## Simple feature collection with 6 features and 11 fields
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: -17.06342 ymin: -13.25723 xmax: 51.13387 ymax: 27.65643
## geographic CRS: WGS 84
##               name                        name_long  pop_est gdp_md_est
## 1         Tanzania                         Tanzania 53950935   150600.0
## 2        W. Sahara                   Western Sahara   603253      906.5
## 11 Dem. Rep. Congo Democratic Republic of the Congo 83301151    66010.0
## 12         Somalia                          Somalia  7531386     4719.0
## 13           Kenya                            Kenya 47615739   152700.0
## 14           Sudan                            Sudan 37345935   176300.0
##    lastcensus             income_grp iso_a3                       geometry
## 1        2002          5. Low income    TZA MULTIPOLYGON (((33.90371 -0...
## 2          NA          5. Low income    ESH MULTIPOLYGON (((-8.66559 27...
## 11       1984          5. Low income    COD MULTIPOLYGON (((29.34 -4.49...
## 12       1987          5. Low income    SOM MULTIPOLYGON (((41.58513 -1...
## 13       2009          5. Low income    KEN MULTIPOLYGON (((39.20222 -4...
## 14       2008 4. Lower middle income    SDN MULTIPOLYGON (((24.56737 8....
##              name_fr          name_pt                              name_af
## 1           Tanzanie         Tanzânia                             Tanzanië
## 2  Sahara occidental  Saara Ocidental                           Wes-Sahara
## 11    Congo-Kinshasa Congo - Kinshasa Demokratiese Republiek van die Kongo
## 12           Somalie          Somália                              Somalië
## 13             Kenya           Quênia                                Kenia
## 14            Soudan            Sudão                               Soedan
##                             name_sw
## 1                          Tanzania
## 2                  Sahara Magharibi
## 11 Jamhuri ya Kidemokrasia ya Kongo
## 12                          Somalia
## 13                            Kenya
## 14                            Sudan</code></pre>
<p>Geometry data contains a list within multiple polygons that are represented as data points with latitude and longitude. These points are connected to form multiple polygons which are either used to include or exclude areas from the final image.
The geometry of the multipolygon data is stored as <em>MULTIPOLYGON (((Latitude1, Longitude1, Latitude2, Longitude2, Latitude3, Longitude3,.. ),(Latitude1, Longitude1, ..)),(Latitude1, Longitude1, …)))</em>. This needs further clarification.</p>
<p>Lets visualise these multipolygons in black</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="example.html#cb85-1"></a><span class="kw">tm_shape</span>(africountries) <span class="op">+</span></span>
<span id="cb85-2"><a href="example.html#cb85-2"></a><span class="st">  </span><span class="kw">tm_borders</span>() <span class="co">#if only borders need to be visualised</span></span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-53-1.png" width="672" /></p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="example.html#cb86-1"></a><span class="kw">tm_shape</span>(africountries) <span class="op">+</span></span>
<span id="cb86-2"><a href="example.html#cb86-2"></a><span class="st">  </span><span class="kw">tm_polygons</span>() <span class="co">#if you want the image to specify the multipologon area</span></span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-53-2.png" width="672" /></p>
<p>Now we can add the capitals and highways from previous episodes</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="example.html#cb87-1"></a><span class="kw">tm_shape</span>(africountries) <span class="op">+</span></span>
<span id="cb87-2"><a href="example.html#cb87-2"></a><span class="st">  </span><span class="kw">tm_borders</span>()<span class="op">+</span></span>
<span id="cb87-3"><a href="example.html#cb87-3"></a><span class="kw">tm_shape</span>(africapitals) <span class="op">+</span></span>
<span id="cb87-4"><a href="example.html#cb87-4"></a><span class="st">  </span><span class="kw">tm_dots</span>(<span class="st">&quot;blue&quot;</span>, <span class="dt">size=</span><span class="fl">0.5</span>)<span class="op">+</span></span>
<span id="cb87-5"><a href="example.html#cb87-5"></a><span class="kw">tm_shape</span>(afrihighway) <span class="op">+</span></span>
<span id="cb87-6"><a href="example.html#cb87-6"></a><span class="st">  </span><span class="kw">tm_lines</span>(<span class="st">&quot;red&quot;</span>) <span class="co"># displaying the point geometry as red dots</span></span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-54-1.png" width="672" /></p>
<div id="exercise-1-1" class="section level3">
<h3><span class="header-section-number">5.0.1</span> Exercise 1</h3>
<p>Multiple choice to identify if datafiles contain point, line or multipolygon geometry
-need to identify two different datafiles to use.
–&gt; list of data : the students need to identify what kind of geometry type the data file contains
–&gt; Visual example: the students need to identify what kind of geometry type the data file contains that is visualised in the example.</p>
<p>a Point data
b Line data
c Multipolygon data
d All of the above</p>
<p>If wrong: go back (explain why wrong)</p>
</div>
<div id="exercise-2-different-data-game-reserves" class="section level3">
<h3><span class="header-section-number">5.0.2</span> Exercise 2 (different data: game reserves)</h3>
<p>Visualise the Malawi country border in black and district borders in green.</p>
</div>
<div id="episode-4-raster" class="section level2">
<h2><span class="header-section-number">5.1</span> Episode 4: Raster</h2>
<style>
div.green { background-color:palegreen; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<h3 id="learning-objectives-4"><span class="header-section-number">5.1</span> Learning objectives</h3>
<ul>
<li>Explain the difference between vector and raster data</li>
<li>Identify raster data files</li>
<li>Open raster data files</li>
<li>Visualise raster data files</li>
</ul>
</div>
<ul>
<li><p>Episode 1 to 3 are focussed on vector data. Vector data uses points, lines, polygons to model the real world.</p></li>
<li><p>I extracted the text below. Needs to be re-written.</p></li>
<li><p>Raster data is a matrix of grid cells. Each cell represents a geographical location and contains a value that represents a characteristict of that region [ref]. Represents large areas with continuously changing values.</p></li>
</ul>
<p>–&gt; image of a simple raster: with data</p>
<ul>
<li><p>Raster data is used when displaying information that is continuous across an area and cannot easily be divided into vector features(vectors aren’t very good at representing features that are not homogeneous). examples: population density, landcover variation, elevation.</p></li>
<li><p>Rasters are often backdrop for vector data.</p></li>
<li><p>Raster data is extracted from eg. satellite imagery, drone imagery, surveys,</p></li>
<li><p>Depending on the number of grid cells, this can result in a smooth image, or visualisation of individual grid cells. Raster datasets can become potentially very large because they record values for each cell in an image. As resolution increases, the size of the cell decreases. But this comes at a cost for speed of processing and data storage.</p></li>
</ul>
<p>To read in raster data, we need to install and load the ‘raster’ package.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="example.html#cb88-1"></a><span class="co">#install.packages(&quot;raster&quot;) #install sf package</span></span>
<span id="cb88-2"><a href="example.html#cb88-2"></a><span class="kw">library</span>(raster) <span class="co"># load raster package</span></span></code></pre></div>
</div>
<div id="example-1" class="section level2">
<h2><span class="header-section-number">5.2</span> Example</h2>
<p>To show raster data, in this example we use population data from 2000 and 2020.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="example.html#cb89-1"></a><span class="co">#print(afripop2000) #printing information on the raster data file</span></span></code></pre></div>
<p>The population raster data from 2000 contains 434 rows, 413 columns and a total of 179242 grid cells with geometry type <strong>RasterLayer </strong>.</p>
<p>If we print the first 6 rows of data, we can see how each country border is stored in the database</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="example.html#cb90-1"></a><span class="co">#head(afripop2000) #First 6 rows of data are printed</span></span></code></pre></div>
<p>Why do you think the first 6 data points are empty?</p>
<p>Better to see a few more grid cells in the raster layer.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="example.html#cb91-1"></a><span class="co">#getValues(afripop2000)</span></span></code></pre></div>
<p>The raster layer consists of a matrix with values. The grid cells can be empty if no data is available.</p>
<p>Lets visualise the population data with the country borders (example from <a href="https://andysouth.shinyapps.io/afrilearnr-crash-course/#section-tmap-map-vector-and-raster-data">afrilearnr</a>.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="example.html#cb92-1"></a><span class="co">#tm_shape(afripop2020) +</span></span>
<span id="cb92-2"><a href="example.html#cb92-2"></a><span class="co">#    tm_raster(palette = rev(viridisLite::magma(5)), breaks=c(0,2,20,200,2000,25000)) +</span></span>
<span id="cb92-3"><a href="example.html#cb92-3"></a><span class="co">#tm_shape(africountries) +</span></span>
<span id="cb92-4"><a href="example.html#cb92-4"></a><span class="co">#    tm_borders() </span></span></code></pre></div>
<style>
div.blue { background-color:#e6f0ff; border-radius: 5px; padding: 20px;}
</style>
<div class="blue">
<p>Please note that population density data are highly skewed. To ensure both high and low density areas are clearly visible, we have to specify the data breaks manually.</p>
</div>
<p>Now we can add the capitals and highways from previous episodes</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="example.html#cb93-1"></a><span class="co">#tm_shape(afripop2020) +</span></span>
<span id="cb93-2"><a href="example.html#cb93-2"></a><span class="co">#    tm_raster(palette = rev(viridisLite::magma(5)), breaks=c(0,2,20,200,2000,25000)) +</span></span>
<span id="cb93-3"><a href="example.html#cb93-3"></a><span class="co">#tm_shape(africountries) +</span></span>
<span id="cb93-4"><a href="example.html#cb93-4"></a><span class="co">#    tm_borders(&quot;white&quot;, lwd = .5) +</span></span>
<span id="cb93-5"><a href="example.html#cb93-5"></a><span class="co">#tm_shape(afrihighway) +</span></span>
<span id="cb93-6"><a href="example.html#cb93-6"></a><span class="co">#    tm_lines(col = &quot;red&quot;) + </span></span>
<span id="cb93-7"><a href="example.html#cb93-7"></a><span class="co">#tm_shape(africapitals) +</span></span>
<span id="cb93-8"><a href="example.html#cb93-8"></a><span class="co">#    tm_symbols(col = &quot;blue&quot;, alpha=0.4, scale = .6 )+</span></span>
<span id="cb93-9"><a href="example.html#cb93-9"></a><span class="co">#tm_legend(show = FALSE)</span></span></code></pre></div>
<div id="exercise-1-2" class="section level3">
<h3><span class="header-section-number">5.2.1</span> Exercise 1</h3>
</div>
<div id="exercise-2-different-data-elevation-data" class="section level3">
<h3><span class="header-section-number">5.2.2</span> Exercise 2 (different data: elevation data?)</h3>
</div>
</div>
<div id="summarykey-points" class="section level2">
<h2><span class="header-section-number">5.3</span> Summary/key points</h2>
<ul>
<li>Points are ..</li>
<li>Lines are ..</li>
<li>Polygons are ..</li>
<li>Rasters are ..</li>
</ul>
</div>
<div id="final-exercises-to-be-done" class="section level2">
<h2><span class="header-section-number">5.4</span> Final Exercises (to be done)</h2>
<div id="visualise" class="section level3">
<h3><span class="header-section-number">5.4.1</span> 1 Visualise</h3>
</div>
<div id="user-story" class="section level3">
<h3><span class="header-section-number">5.4.2</span> 2 User story</h3>
</div>
</div>
<div id="further-resources" class="section level2">
<h2><span class="header-section-number">5.5</span> Further resources</h2>
<p>If you are interested in learning more about the different spatial data types, please visit:</p>
<ul>
<li><p><a href="https://datacarpentry.org/geospatial-workshop/">Geospatial workshop</a></p></li>
<li><p><a href="https://datacarpentry.org/organization-geospatial/">Geospatial data organization</a></p></li>
<li><p><a href="https://datacarpentry.org/r-intro-geospatial/">Introduction to geospatial data</a></p></li>
<li><p><a href="https://datacarpentry.org/r-raster-vector-geospatial/">Raster and vector data</a></p></li>
</ul>
</div>
<div id="feedback-1" class="section level2">
<h2><span class="header-section-number">5.6</span> Feedback</h2>
<ul>
<li>Request on what was useful to the reader (learner) and what can be improved</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-types.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="visualising1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/afrimapr/book-demo/edit/master/04-data-types.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
