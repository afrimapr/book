<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Chapter 4 Spatial data types focusing on real examples: cities, roads, admin boundaries, surfaces | The afrimapr book</title>
  <meta name="description" content="An introduction to making maps from African data in R." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Chapter 4 Spatial data types focusing on real examples: cities, roads, admin boundaries, surfaces | The afrimapr book" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="An introduction to making maps from African data in R." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Chapter 4 Spatial data types focusing on real examples: cities, roads, admin boundaries, surfaces | The afrimapr book" />
  
  <meta name="twitter:description" content="An introduction to making maps from African data in R." />
  

<meta name="author" content="The afrimapr team" />


<meta name="date" content="2021-02-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rrecap.html"/>
<link rel="next" href="example.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The afrimapr book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#spatial-data-outline"><i class="fa fa-check"></i><b>1.1</b> Spatial data outline</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="steps1.html"><a href="steps1.html"><i class="fa fa-check"></i><b>2</b> Step through a simple example of process of mapmaking</a></li>
<li class="chapter" data-level="3" data-path="rrecap.html"><a href="rrecap.html"><i class="fa fa-check"></i><b>3</b> R recap</a><ul>
<li class="chapter" data-level="3.1" data-path="rrecap.html"><a href="rrecap.html#setting-working-directory"><i class="fa fa-check"></i><b>3.1</b> Setting working directory</a></li>
<li class="chapter" data-level="3.2" data-path="rrecap.html"><a href="rrecap.html#creating-naming-and-saving-a-new-r-script"><i class="fa fa-check"></i><b>3.2</b> Creating, naming and saving a new R script</a></li>
<li class="chapter" data-level="3.3" data-path="rrecap.html"><a href="rrecap.html#executing-the-code"><i class="fa fa-check"></i><b>3.3</b> Executing the code</a></li>
<li class="chapter" data-level="3.4" data-path="rrecap.html"><a href="rrecap.html#install-and-load-packages"><i class="fa fa-check"></i><b>3.4</b> Install and load packages</a></li>
<li class="chapter" data-level="3.5" data-path="rrecap.html"><a href="rrecap.html#load-data"><i class="fa fa-check"></i><b>3.5</b> Load data</a></li>
<li class="chapter" data-level="3.6" data-path="rrecap.html"><a href="rrecap.html#basic-data-types"><i class="fa fa-check"></i><b>3.6</b> Basic data types</a><ul>
<li class="chapter" data-level="3.6.1" data-path="rrecap.html"><a href="rrecap.html#numeric-and-integer"><i class="fa fa-check"></i><b>3.6.1</b> Numeric and integer</a></li>
<li class="chapter" data-level="3.6.2" data-path="rrecap.html"><a href="rrecap.html#characters"><i class="fa fa-check"></i><b>3.6.2</b> Characters</a></li>
<li class="chapter" data-level="3.6.3" data-path="rrecap.html"><a href="rrecap.html#logical"><i class="fa fa-check"></i><b>3.6.3</b> Logical</a></li>
<li class="chapter" data-level="3.6.4" data-path="rrecap.html"><a href="rrecap.html#factors"><i class="fa fa-check"></i><b>3.6.4</b> Factors</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="rrecap.html"><a href="rrecap.html#basic-objects-and-data-structures"><i class="fa fa-check"></i><b>3.7</b> Basic objects and data structures</a><ul>
<li class="chapter" data-level="3.7.1" data-path="rrecap.html"><a href="rrecap.html#vector"><i class="fa fa-check"></i><b>3.7.1</b> Vector</a></li>
<li class="chapter" data-level="3.7.2" data-path="rrecap.html"><a href="rrecap.html#matrix"><i class="fa fa-check"></i><b>3.7.2</b> Matrix</a></li>
<li class="chapter" data-level="3.7.3" data-path="rrecap.html"><a href="rrecap.html#data-frame"><i class="fa fa-check"></i><b>3.7.3</b> Data frame</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="rrecap.html"><a href="rrecap.html#getting-help-with-r-help"><i class="fa fa-check"></i><b>3.8</b> Getting help with R Help</a></li>
<li class="chapter" data-level="3.9" data-path="rrecap.html"><a href="rrecap.html#wrap-up"><i class="fa fa-check"></i><b>3.9</b> Wrap up</a></li>
<li class="chapter" data-level="3.10" data-path="rrecap.html"><a href="rrecap.html#feedback"><i class="fa fa-check"></i><b>3.10</b> Feedback</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>4</b> Chapter 4 Spatial data types focusing on real examples: cities, roads, admin boundaries, surfaces</a><ul>
<li class="chapter" data-level="4.1" data-path="data-types.html"><a href="data-types.html#overall-goal-of-the-chapter"><i class="fa fa-check"></i><b>4.1</b> Overall goal of the chapter</a><ul>
<li class="chapter" data-level="4.1.1" data-path="data-types.html"><a href="data-types.html#the-episodes"><i class="fa fa-check"></i><b>4.1.1</b> The Episodes</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-types.html"><a href="data-types.html#episode-1-points"><i class="fa fa-check"></i><b>4.2</b> Episode 1: points</a><ul>
<li class="chapter" data-level="4.2.1" data-path="data-types.html"><a href="data-types.html#exercise-still-need-to-work-on-these"><i class="fa fa-check"></i><b>4.2.1</b> Exercise (still need to work on these)</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-types.html"><a href="data-types.html#exercise-2-using-different-data-museums-universities"><i class="fa fa-check"></i><b>4.2.2</b> Exercise 2 (using different data: museums, universities? )</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-types.html"><a href="data-types.html#episode-2-lines"><i class="fa fa-check"></i><b>4.3</b> Episode 2: Lines</a><ul>
<li class="chapter" data-level="4.3.1" data-path="data-types.html"><a href="data-types.html#exercise-1"><i class="fa fa-check"></i><b>4.3.1</b> Exercise 1</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-types.html"><a href="data-types.html#exercise-2-different-data-rivers-in-africa"><i class="fa fa-check"></i><b>4.3.2</b> Exercise 2 (different data: rivers in Africa?)</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-types.html"><a href="data-types.html#episode-3-polygons"><i class="fa fa-check"></i><b>4.4</b> Episode 3: Polygons</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="example.html"><a href="example.html"><i class="fa fa-check"></i><b>5</b> Example</a><ul>
<li class="chapter" data-level="5.0.1" data-path="example.html"><a href="example.html#exercise-1-1"><i class="fa fa-check"></i><b>5.0.1</b> Exercise 1</a></li>
<li class="chapter" data-level="5.0.2" data-path="example.html"><a href="example.html#exercise-2-different-data-game-reserves"><i class="fa fa-check"></i><b>5.0.2</b> Exercise 2 (different data: game reserves)</a></li>
<li class="chapter" data-level="5.1" data-path="example.html"><a href="example.html#episode-4-raster"><i class="fa fa-check"></i><b>5.1</b> Episode 4: Raster</a></li>
<li class="chapter" data-level="5.2" data-path="example.html"><a href="example.html#example-1"><i class="fa fa-check"></i><b>5.2</b> Example</a><ul>
<li class="chapter" data-level="5.2.1" data-path="example.html"><a href="example.html#exercise-1-2"><i class="fa fa-check"></i><b>5.2.1</b> Exercise 1</a></li>
<li class="chapter" data-level="5.2.2" data-path="example.html"><a href="example.html#exercise-2-different-data-elevation-data"><i class="fa fa-check"></i><b>5.2.2</b> Exercise 2 (different data: elevation data?)</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="example.html"><a href="example.html#summarykey-points"><i class="fa fa-check"></i><b>5.3</b> Summary/key points</a></li>
<li class="chapter" data-level="5.4" data-path="example.html"><a href="example.html#final-exercises-to-be-done"><i class="fa fa-check"></i><b>5.4</b> Final Exercises (to be done)</a><ul>
<li class="chapter" data-level="5.4.1" data-path="example.html"><a href="example.html#visualise"><i class="fa fa-check"></i><b>5.4.1</b> 1 Visualise</a></li>
<li class="chapter" data-level="5.4.2" data-path="example.html"><a href="example.html#user-story"><i class="fa fa-check"></i><b>5.4.2</b> 2 User story</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="example.html"><a href="example.html#further-resources"><i class="fa fa-check"></i><b>5.5</b> Further resources</a></li>
<li class="chapter" data-level="5.6" data-path="example.html"><a href="example.html#feedback-1"><i class="fa fa-check"></i><b>5.6</b> Feedback</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="visualising1.html"><a href="visualising1.html"><i class="fa fa-check"></i><b>6</b> Visualising spatial data part 1: tmap and mapview</a><ul>
<li class="chapter" data-level="6.1" data-path="visualising1.html"><a href="visualising1.html#quick-interactive-maps-with-mapview"><i class="fa fa-check"></i><b>6.1</b> Quick interactive maps with mapview</a></li>
<li class="chapter" data-level="6.2" data-path="visualising1.html"><a href="visualising1.html#static-maps-with-tmap"><i class="fa fa-check"></i><b>6.2</b> Static maps with tmap</a><ul>
<li class="chapter" data-level="6.2.1" data-path="visualising1.html"><a href="visualising1.html#layers-for-the-static-maps"><i class="fa fa-check"></i><b>6.2.1</b> Layers for the static maps</a></li>
<li class="chapter" data-level="6.2.2" data-path="visualising1.html"><a href="visualising1.html#colour-pallet"><i class="fa fa-check"></i><b>6.2.2</b> Colour pallet</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="visualising1.html"><a href="visualising1.html#interactive-maps-with-tmap"><i class="fa fa-check"></i><b>6.3</b> Interactive maps with tmap</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>7</b> Shiny interactive map applications</a></li>
<li class="chapter" data-level="8" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>8</b> Sources of data</a><ul>
<li class="chapter" data-level="8.0.1" data-path="data-sources.html"><a href="data-sources.html#hdx"><i class="fa fa-check"></i><b>8.0.1</b> HDX</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="joining.html"><a href="joining.html"><i class="fa fa-check"></i><b>9</b> Join non-spatial data onto spatial</a></li>
<li class="chapter" data-level="10" data-path="raster.html"><a href="raster.html"><i class="fa fa-check"></i><b>10</b> Raster manipulation</a></li>
<li class="chapter" data-level="11" data-path="openstreetmap.html"><a href="openstreetmap.html"><i class="fa fa-check"></i><b>11</b> OpenStreetMap data</a></li>
<li class="chapter" data-level="12" data-path="data-editing.html"><a href="data-editing.html"><i class="fa fa-check"></i><b>12</b> Creating and editing spatial data</a><ul>
<li class="chapter" data-level="12.1" data-path="data-editing.html"><a href="data-editing.html#create-a-vector-file-from-scratch"><i class="fa fa-check"></i><b>12.1</b> Create a vector file from scratch</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="visualising2.html"><a href="visualising2.html"><i class="fa fa-check"></i><b>13</b> Visualising spatial data part 2</a></li>
<li class="chapter" data-level="14" data-path="case-study1.html"><a href="case-study1.html"><i class="fa fa-check"></i><b>14</b> Case study 1</a><ul>
<li class="chapter" data-level="14.1" data-path="case-study1.html"><a href="case-study1.html#health-facility-locations-probably"><i class="fa fa-check"></i><b>14.1</b> Health facility locations (probably)</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="case-study2.html"><a href="case-study2.html"><i class="fa fa-check"></i><b>15</b> Case study 2</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="16" data-path="template.html"><a href="template.html"><i class="fa fa-check"></i><b>16</b> Template chapter</a><ul>
<li class="chapter" data-level="16.1" data-path="template.html"><a href="template.html#linking-section-1"><i class="fa fa-check"></i><b>16.1</b> Linking section 1</a></li>
<li class="chapter" data-level="16.2" data-path="template.html"><a href="template.html#overall-goal-of-the-chapter-1"><i class="fa fa-check"></i><b>16.2</b> Overall goal of the chapter</a></li>
<li class="chapter" data-level="16.3" data-path="template.html"><a href="template.html#list-of-episodes"><i class="fa fa-check"></i><b>16.3</b> List of episodes</a></li>
<li class="chapter" data-level="16.4" data-path="template.html"><a href="template.html#episode-1-topic-1"><i class="fa fa-check"></i><b>16.4</b> Episode 1 (topic 1)</a></li>
<li class="chapter" data-level="16.5" data-path="template.html"><a href="template.html#episode-2-topic-2"><i class="fa fa-check"></i><b>16.5</b> Episode 2 (topic 2)</a></li>
<li class="chapter" data-level="16.6" data-path="template.html"><a href="template.html#episode-3-topic-3"><i class="fa fa-check"></i><b>16.6</b> Episode 3 (topic 3)</a></li>
<li class="chapter" data-level="16.7" data-path="template.html"><a href="template.html#linking-section-2"><i class="fa fa-check"></i><b>16.7</b> Linking section 2</a></li>
<li class="chapter" data-level="16.8" data-path="template.html"><a href="template.html#feedback-request-on-what-was-useful-to-the-reader-learner-and-what-can-be-improved"><i class="fa fa-check"></i><b>16.8</b> Feedback request on what was useful to the reader (learner) and what can be improved</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/afrimapr/book" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The afrimapr book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-types" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Chapter 4 Spatial data types focusing on real examples: cities, roads, admin boundaries, surfaces</h1>
<div id="overall-goal-of-the-chapter" class="section level2">
<h2><span class="header-section-number">4.1</span> Overall goal of the chapter</h2>
<p>Focus on functional use of spatial data types!
–&gt;Short recap of chapter 3
The goal of spatial maps is to model reality. Spatial data types are the information that the R-software needs to visualise spatial data in a digital format. This section presents the four main data types used for spatial mapping and their visualisation: points, lines, polygons and rasters.</p>
<p>–&gt; interactive image with a different layer for points, lines, polygons and rasters (great to already have a simple visualisation of the topics to be discussed in this chapter</p>
<p>There are two groups of spatial data: vector and raster. Vector data consist of points, lines and polygones, which are visualised using coordinates. Raster data is made up of a grid of pixels each containing data.
Spatial data can be stored in many different formats: Shapefile (.shp + .dbf + .prj + …), GeoPackage (.gpkg), GeoJSON (.json), GML (.gml), SpatiaLite (.db), and many more (.gpx, .csv). The most common is Shapefile, which consists of at least three files (geometry, attribute data, CRS). Another standard is the GeoPackage, which is just one fil. It can store multiple vector data layers, as well as non-vector data such as satellite images and tables of metadata.
It is important to keep in mind that all spatial data types require a spatial reference frame/coordinate system identification. The spatial reference frame consists of an origin and axes, so that coordinates can be placed at the right location.
–&gt;Reading in files: In R, the <a href="https://r-spatial.github.io/sf/">sf</a> package provides an interface to OGR (explanation necessary?). The package provides classes and methods for dealing with spatial data in R with a geometry list-column. . A similar (but more outdated) package is <a href="https://cran.r-project.org/web/packages/sp/vignettes/intro_sp.pdf">sp</a>.
This chapter is written for beginners, who have basic knowledge of R and no experience with spatial data. More advanced readers can move to the next chapter where visualisation of data types are explained in more detail. <br/></p>
<style>
div.green { background-color:palegreen; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<h3 id="learning-objectives"><span class="header-section-number">4.1</span> Learning objectives</h3>
<ul>
<li>Describe the difference between points, lines, polygons and raster data types</li>
<li>Identify data files from the four different spatial data types</li>
<li>Open data files from the four different spatial data types in R</li>
<li>Visualise data files from the four different spatial data types in R</li>
</ul>
</div>
<div id="the-episodes" class="section level3">
<h3><span class="header-section-number">4.1.1</span> The Episodes</h3>
<ol style="list-style-type: decimal">
<li><a href="##%20Episode%201:%20points">Points (cities)</a></li>
<li><a href="##%20Episode%202:%20Lines">Lines (roads)</a></li>
<li><a href="##%20Episode%203:%20Polygons">Polygons (country boundaries)</a></li>
<li><a href="##%20Episode%204:%20Raster">Rasters (population density)</a></li>
</ol>
</div>
</div>
<div id="episode-1-points" class="section level2">
<h2><span class="header-section-number">4.2</span> Episode 1: points</h2>
<style>
div.green { background-color:palegreen; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<h3 id="learning-objectives-1"><span class="header-section-number">4.2</span> Learning objectives</h3>
<p><em>Identify point data files
</em>Open point data files
*Visualise point data files</p>
</div>
<p>-sighting of animals: health centres.
- Let’s take an imaginary walk outside. What do you see? Houses, cars, trees… All these things have unique coordinates that can be used to identify their exact location. On a map, instead of drawing an entire house or tree, these can be visualised as points with their latitude and longitude coordinates.</p>
<p>–&gt;image of houses, cars and trees with dots inside (with coordinates scale)</p>
<ul>
<li>Depending on the scale of your map, larger surfaces (cities) can also be visualised with points.
<strong>What your points represent is dependent on the scale of your map.</strong></li>
</ul>
<p>#Example</p>
<style>
div.blue { background-color:#e6f0ff; border-radius: 5px; padding: 20px;}
</style>
<div class="blue">
<p>Please note that more information can be found about the different packages using the Help tools explained in <a href="##%20chapter%203.8">chapter 3.8</a></p>
</div>
<p>Reminder of necessary packages</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="data-types.html#cb63-1"></a><span class="kw">library</span>(afrilearndata) <span class="co">#load afrilearndata package</span></span>
<span id="cb63-2"><a href="data-types.html#cb63-2"></a><span class="kw">data</span>(africountries) <span class="co">#In case data isn&#39;t loaded into your R environment</span></span>
<span id="cb63-3"><a href="data-types.html#cb63-3"></a><span class="kw">data</span>(africapitals)</span>
<span id="cb63-4"><a href="data-types.html#cb63-4"></a><span class="kw">data</span>(afrihighway)</span>
<span id="cb63-5"><a href="data-types.html#cb63-5"></a><span class="kw">data</span>(afripop2000)</span></code></pre></div>
<p>Download and load the sf package (if this hasn’t been done before)</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="data-types.html#cb64-1"></a><span class="co">#install.packages(&quot;sf&quot;) #install sf package</span></span>
<span id="cb64-2"><a href="data-types.html#cb64-2"></a><span class="kw">library</span>(sf) <span class="co">#load sf package</span></span></code></pre></div>
<p>Let’s look at the african capitals as an example of point data.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="data-types.html#cb65-1"></a><span class="kw">print</span>(<span class="kw">st_geometry</span>(africapitals)) <span class="co">#printing information on the geometry</span></span></code></pre></div>
<pre><code>## Geometry set for 50 features 
## geometry type:  POINT
## dimension:      XY
## bbox:           xmin: -17.48 ymin: -29.31 xmax: 47.51 ymax: 36.84
## geographic CRS: WGS 84
## First 5 geometries:</code></pre>
<p>The file contains 50 points with geometry type <strong>POINT</strong>.</p>
<p>If we print the first 6 rows of data, we can see how each African captial is stored in the database</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="data-types.html#cb67-1"></a><span class="kw">head</span>(africapitals) <span class="co">#First 6 rows of data are printed</span></span></code></pre></div>
<pre><code>## Simple feature collection with 6 features and 4 fields
## geometry type:  POINT
## dimension:      XY
## bbox:           xmin: -0.2 ymin: -18.89 xmax: 47.51 ymax: 36.77
## geographic CRS: WGS 84
##       capitalname countryname     pop iso3c             geometry
## 280         Abuja     Nigeria  178462   NGA    POINT (7.17 9.18)
## 308         Accra       Ghana 2029143   GHA    POINT (-0.2 5.56)
## 382   Addis Abeba    Ethiopia 2823167   ETH   POINT (38.74 9.03)
## 996       Algiers     Algeria 2029936   DZA   POINT (3.04 36.77)
## 1584 Antananarivo  Madagascar 1463754   MDG POINT (47.51 -18.89)
## 2193       Asmara     Eritrea  578860   ERI  POINT (38.94 15.33)</code></pre>
<p>Point data only have one latitude and longitude value.
The geometry of the point data is stored as <em>POINT (Latitude, Longitude)</em>.</p>
<style>
div.blue { background-color:#e6f0ff; border-radius: 5px; padding: 20px;}
</style>
<div class="blue">
<p>Please note that this database also includes the population of the capital as a seperate data column.</p>
</div>
<p>Lets visualise the African capitals by plotting their geometry.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="data-types.html#cb69-1"></a><span class="kw">library</span>(tmap) <span class="co">#Do they already know how to use this? Or do we focus on simple plotting? </span></span>
<span id="cb69-2"><a href="data-types.html#cb69-2"></a></span>
<span id="cb69-3"><a href="data-types.html#cb69-3"></a><span class="kw">tm_shape</span>(africapitals) <span class="op">+</span></span>
<span id="cb69-4"><a href="data-types.html#cb69-4"></a><span class="st">  </span><span class="kw">tm_dots</span>(<span class="st">&quot;red&quot;</span>) <span class="co"># displaying the point geometry as red dots</span></span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="data-types.html#cb70-1"></a><span class="co">#Labels can be added to name the capital, although this can become messy when capitals are closely situated</span></span>
<span id="cb70-2"><a href="data-types.html#cb70-2"></a><span class="kw">tm_shape</span>(africapitals) <span class="op">+</span></span>
<span id="cb70-3"><a href="data-types.html#cb70-3"></a><span class="st">  </span><span class="kw">tm_dots</span>(<span class="st">&quot;red&quot;</span>)<span class="op">+</span><span class="st"> </span><span class="co"># displaying the point geometry as red dots</span></span>
<span id="cb70-4"><a href="data-types.html#cb70-4"></a><span class="st">    </span><span class="kw">tm_text</span>(<span class="st">&quot;capitalname&quot;</span>, <span class="dt">size=</span><span class="fl">0.7</span> ) <span class="co">#adding the name </span></span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-42-2.png" width="672" /></p>
<div id="exercise-still-need-to-work-on-these" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Exercise (still need to work on these)</h3>
<p>-example using same capital data
-We have visualised all capitals with 1.400.000 people or over using green squares. However, the code isn’t working.
Can you find the mistakes?</p>
<p>Answer: (need to add errors)</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="data-types.html#cb71-1"></a><span class="co">#africapitals_ex1=africapitals %&gt;%</span></span>
<span id="cb71-2"><a href="data-types.html#cb71-2"></a><span class="co">#  filter(as.numeric(`pop`) &gt;= 1400000)</span></span>
<span id="cb71-3"><a href="data-types.html#cb71-3"></a></span>
<span id="cb71-4"><a href="data-types.html#cb71-4"></a><span class="co">#tm_shape(africapitals_ex1) +</span></span>
<span id="cb71-5"><a href="data-types.html#cb71-5"></a><span class="co">#  tm_dots(&quot;green&quot;, shape = 22, size=0.5)# details of how to specify values can be found in &#39;?tm_dots</span></span></code></pre></div>
</div>
<div id="exercise-2-using-different-data-museums-universities" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Exercise 2 (using different data: museums, universities? )</h3>
</div>
</div>
<div id="episode-2-lines" class="section level2">
<h2><span class="header-section-number">4.3</span> Episode 2: Lines</h2>
<style>
div.green { background-color:palegreen; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<h3 id="learning-objectives-2"><span class="header-section-number">4.3</span> Learning objectives</h3>
<ul>
<li>Identify line data files</li>
<li>Open line data files</li>
<li>Visualise line data files</li>
</ul>
</div>
<ul>
<li><p>The capitals visualised in previous episode are a group of dots accross a white page. Not very informative.</p></li>
<li><p>Usefull to know how these cities are linked to one another using the trans african highway network (afrihighway).</p></li>
<li><p>Lines are one dimension data with are drawn using points which are connected to eachother in a set order.Depending on the detail of the map, more or less points can be used. These become networks</p></li>
</ul>
<p>#Example</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="data-types.html#cb72-1"></a><span class="kw">print</span>(<span class="kw">st_geometry</span>(afrihighway)) <span class="co">#printing information on the geometry</span></span></code></pre></div>
<pre><code>## Geometry set for 100 features 
## geometry type:  LINESTRING
## dimension:      XYZ
## bbox:           xmin: -17.38929 ymin: -33.95247 xmax: 43.13781 ymax: 37.08586
## z_range:        zmin: 0 zmax: 0
## geographic CRS: WGS 84
## First 5 geometries:</code></pre>
<p>The file contains 100 lines with geometry type <strong>LINESTRING</strong>.</p>
<p>If we print the first 6 rows of data, we can see how each highway is stored in the database</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="data-types.html#cb74-1"></a><span class="kw">head</span>(afrihighway) <span class="co">#First 6 rows of data are printed</span></span></code></pre></div>
<pre><code>## Simple feature collection with 6 features and 1 field
## geometry type:  LINESTRING
## dimension:      XYZ
## bbox:           xmin: -17.36938 ymin: 14.76957 xmax: -6.800537 ymax: 33.98436
## z_range:        zmin: 0 zmax: 0
## geographic CRS: WGS 84
## # A tibble: 6 x 2
##   Name                                                                  geometry
##   &lt;chr&gt;                                                         &lt;LINESTRING [°]&gt;
## 1 Western Sahara (Morocco… Z (-16.94778 21.34438 0, -16.85303 21.96343 0, -16.5…
## 2 Mauritania Border- Daka… Z (-17.36938 14.76957 0, -16.9519 14.77488 0, -16.73…
## 3 Nouakchott- Senegal Bor… Z (-15.81069 16.52036 0, -16.11694 16.72039 0, -16.1…
## 4 Western Sahara Border- … Z (-15.99128 18.08646 0, -16.01807 18.49003 0, -16.1…
## 5 Marrakesh- Western Saha… Z (-12.95837 27.67623 0, -12.7002 28.0041 0, -12.128…
## 6 Rabat- Marrakesh Link    Z (-8.12439 31.79238 0, -8.02002 31.8589 0, -7.91564…</code></pre>
<p>Line data contain a whole string of data points with latitude and longitude. These points are connected to form a line.
The geometry of the line data is stored as <em>LINESTRING(Latitude1, Longitude1, Latitude2, Longitude2, Latitude3, Longitude3,.. )</em>.</p>
<p>Lets visualise these linestrings in red</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="data-types.html#cb76-1"></a><span class="kw">tm_shape</span>(afrihighway) <span class="op">+</span></span>
<span id="cb76-2"><a href="data-types.html#cb76-2"></a><span class="st">  </span><span class="kw">tm_lines</span>(<span class="st">&quot;red&quot;</span>) <span class="co"># displaying the point geometry as red dots</span></span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-46-1.png" width="672" /></p>
<p>Now we add the capitals from previous episode in blue</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="data-types.html#cb77-1"></a><span class="kw">tm_shape</span>(africapitals) <span class="op">+</span></span>
<span id="cb77-2"><a href="data-types.html#cb77-2"></a><span class="st">  </span><span class="kw">tm_dots</span>(<span class="st">&quot;blue&quot;</span>, <span class="dt">size=</span><span class="fl">0.5</span>)<span class="op">+</span></span>
<span id="cb77-3"><a href="data-types.html#cb77-3"></a><span class="kw">tm_shape</span>(afrihighway) <span class="op">+</span></span>
<span id="cb77-4"><a href="data-types.html#cb77-4"></a><span class="st">  </span><span class="kw">tm_lines</span>(<span class="st">&quot;red&quot;</span>) <span class="co"># displaying the point geometry as red dots</span></span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-47-1.png" width="672" /></p>
<div id="exercise-1" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Exercise 1</h3>
<p>We have visualised all the capitals and only the roads that start with the letter ‘b’… Couldnt really think of another way to play around with the highway data)</p>
<p>-Rearrange code in the correct order (still need to mix it up)</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="data-types.html#cb78-1"></a>afrihighway_ex1=afrihighway[<span class="kw">grep</span>(<span class="st">&quot;^B&quot;</span>, afrihighway<span class="op">$</span>Name),]</span>
<span id="cb78-2"><a href="data-types.html#cb78-2"></a></span>
<span id="cb78-3"><a href="data-types.html#cb78-3"></a><span class="kw">tm_shape</span>(africapitals) <span class="op">+</span><span class="st"> </span><span class="co">#important that capitals are visualised first </span></span>
<span id="cb78-4"><a href="data-types.html#cb78-4"></a><span class="st">  </span><span class="kw">tm_dots</span>(<span class="st">&quot;blue&quot;</span>, <span class="dt">size=</span><span class="fl">0.5</span>)<span class="op">+</span></span>
<span id="cb78-5"><a href="data-types.html#cb78-5"></a><span class="st">    </span><span class="kw">tm_shape</span>(afrihighway_ex1)<span class="op">+</span></span>
<span id="cb78-6"><a href="data-types.html#cb78-6"></a><span class="st">  </span><span class="kw">tm_lines</span>(<span class="st">&quot;blue&quot;</span>) </span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-48-1.png" width="672" /></p>
</div>
<div id="exercise-2-different-data-rivers-in-africa" class="section level3">
<h3><span class="header-section-number">4.3.2</span> Exercise 2 (different data: rivers in Africa?)</h3>
<ul>
<li>make this slightly more complicated by selecting rivers than are at least xx km long?</li>
</ul>
</div>
</div>
<div id="episode-3-polygons" class="section level2">
<h2><span class="header-section-number">4.4</span> Episode 3: Polygons</h2>
<style>
div.green { background-color:palegreen; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<h3 id="learning-objectives-3"><span class="header-section-number">4.4</span> Learning objectives</h3>
<ul>
<li>Identify polygon data files</li>
<li>Open polygon data files</li>
<li>Visualise polygon data files</li>
</ul>
</div>
<ul>
<li><p>If a line has the same first and last coordinate, this creates a closed figure: a polygon. Similar to lines, depending on the detail of the map, more or less points can be used to create a polygon.</p></li>
<li><p>Polygons are two dimension data. Examples include country boundaries and continent outlines.</p></li>
<li><p>Often times one polygon is not sufficient to visualise complicated shapes. Several polygons are necessary: these shapes are called mulipolygons. The different polygons in one data row indicate either areas to include or exclude from the final image.</p></li>
</ul>
<p>For example the continent outline of Africa is a multipolygon.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="data-types.html#cb79-1"></a><span class="kw">plot</span>(<span class="kw">st_geometry</span>(africontinent), <span class="dt">col =</span> <span class="st">&quot;lightblue&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-49-1.png" width="672" /></p>
<ul>
<li>One polygon is used to visualise mainland of Africa. An additional polygon is used for Madagascar. Together they represent the whole African continent.</li>
</ul>
<p>–&gt; This might be a simple polygon and not a multipolygon…
An example of a multipolygon where areas are excluded is the country border of South Africa. Lesotho is entirely surrounded by South Africa. If we want to visualise South Africa, we need to make sure that the Lesotho area is excluded. Visualisation of South Africa therefore requires two polygons, one to outline the outer borders and one to highlight the area to exclude (Lesotho country borders).</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="data-types.html#cb80-1"></a><span class="co">#africountries_ex=africountries %&gt;%</span></span>
<span id="cb80-2"><a href="data-types.html#cb80-2"></a><span class="co">#  filter(`name` == &quot;South Africa&quot;)</span></span>
<span id="cb80-3"><a href="data-types.html#cb80-3"></a></span>
<span id="cb80-4"><a href="data-types.html#cb80-4"></a><span class="co">#plot(st_geometry(africountries_ex), col = &quot;lightblue&quot;) </span></span></code></pre></div>
<ul>
<li>As you can see in the image above, when the border lines of South Africa are visualised, a white area is visible inside the country (representing Lesotho), which is not part of South Africa.</li>
</ul>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rrecap.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="example.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/afrimapr/book-demo/edit/master/04-data-types.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
