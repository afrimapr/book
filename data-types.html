<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Chapter 4 Spatial data types with focus on real examples | The afrimapr book</title>
  <meta name="description" content="An introduction to making maps from African data in R." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Chapter 4 Spatial data types with focus on real examples | The afrimapr book" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="An introduction to making maps from African data in R." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Chapter 4 Spatial data types with focus on real examples | The afrimapr book" />
  
  <meta name="twitter:description" content="An introduction to making maps from African data in R." />
  

<meta name="author" content="The afrimapr team" />


<meta name="date" content="2021-03-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rrecap.html"/>
<link rel="next" href="visualising1.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The afrimapr book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#spatial-data-outline"><i class="fa fa-check"></i><b>1.1</b> Spatial data outline</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="steps1.html"><a href="steps1.html"><i class="fa fa-check"></i><b>2</b> Step through a simple example of process of mapmaking</a></li>
<li class="chapter" data-level="3" data-path="rrecap.html"><a href="rrecap.html"><i class="fa fa-check"></i><b>3</b> R recap</a><ul>
<li class="chapter" data-level="" data-path="rrecap.html"><a href="rrecap.html#list-of-episodes"><i class="fa fa-check"></i>List of episodes</a></li>
<li class="chapter" data-level="3.1" data-path="rrecap.html"><a href="rrecap.html#wd"><i class="fa fa-check"></i><b>3.1</b> Setting working directory</a></li>
<li class="chapter" data-level="3.2" data-path="rrecap.html"><a href="rrecap.html#new_script"><i class="fa fa-check"></i><b>3.2</b> Creating, naming and saving a new R script</a></li>
<li class="chapter" data-level="3.3" data-path="rrecap.html"><a href="rrecap.html#executing"><i class="fa fa-check"></i><b>3.3</b> Executing the code</a></li>
<li class="chapter" data-level="3.4" data-path="rrecap.html"><a href="rrecap.html#install_packages"><i class="fa fa-check"></i><b>3.4</b> Install and load packages</a></li>
<li class="chapter" data-level="3.5" data-path="rrecap.html"><a href="rrecap.html#load_data"><i class="fa fa-check"></i><b>3.5</b> Load data</a></li>
<li class="chapter" data-level="3.6" data-path="rrecap.html"><a href="rrecap.html#data_basics"><i class="fa fa-check"></i><b>3.6</b> Basic data types</a><ul>
<li class="chapter" data-level="3.6.1" data-path="rrecap.html"><a href="rrecap.html#numeric-and-integer"><i class="fa fa-check"></i><b>3.6.1</b> Numeric and integer</a></li>
<li class="chapter" data-level="3.6.2" data-path="rrecap.html"><a href="rrecap.html#characters"><i class="fa fa-check"></i><b>3.6.2</b> Characters</a></li>
<li class="chapter" data-level="3.6.3" data-path="rrecap.html"><a href="rrecap.html#logical"><i class="fa fa-check"></i><b>3.6.3</b> Logical</a></li>
<li class="chapter" data-level="3.6.4" data-path="rrecap.html"><a href="rrecap.html#factors"><i class="fa fa-check"></i><b>3.6.4</b> Factors</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="rrecap.html"><a href="rrecap.html#objects_basics"><i class="fa fa-check"></i><b>3.7</b> Basic objects and data structures</a><ul>
<li class="chapter" data-level="3.7.1" data-path="rrecap.html"><a href="rrecap.html#vector"><i class="fa fa-check"></i><b>3.7.1</b> Vector</a></li>
<li class="chapter" data-level="3.7.2" data-path="rrecap.html"><a href="rrecap.html#matrix"><i class="fa fa-check"></i><b>3.7.2</b> Matrix</a></li>
<li class="chapter" data-level="3.7.3" data-path="rrecap.html"><a href="rrecap.html#data-frame"><i class="fa fa-check"></i><b>3.7.3</b> Data frame</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="rrecap.html"><a href="rrecap.html#help"><i class="fa fa-check"></i><b>3.8</b> Getting help with R Help</a></li>
<li class="chapter" data-level="3.9" data-path="rrecap.html"><a href="rrecap.html#wrap-up"><i class="fa fa-check"></i><b>3.9</b> Wrap up</a></li>
<li class="chapter" data-level="3.10" data-path="rrecap.html"><a href="rrecap.html#feedback"><i class="fa fa-check"></i><b>3.10</b> Feedback</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>4</b> Chapter 4 Spatial data types with focus on real examples</a><ul>
<li class="chapter" data-level="4.1" data-path="data-types.html"><a href="data-types.html#overall-goal-of-the-chapter"><i class="fa fa-check"></i><b>4.1</b> Overall goal of the chapter</a><ul>
<li class="chapter" data-level="4.1.1" data-path="data-types.html"><a href="data-types.html#list-of-episodes-1"><i class="fa fa-check"></i><b>4.1.1</b> List of episodes</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-types.html"><a href="data-types.html#episode_1_points"><i class="fa fa-check"></i><b>4.2</b> 4.1 Points</a><ul>
<li class="chapter" data-level="4.2.1" data-path="data-types.html"><a href="data-types.html#example"><i class="fa fa-check"></i><b>4.2.1</b> Example</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-types.html"><a href="data-types.html#exercise-1"><i class="fa fa-check"></i><b>4.2.2</b> Exercise 1</a></li>
<li class="chapter" data-level="4.2.3" data-path="data-types.html"><a href="data-types.html#exercise-2"><i class="fa fa-check"></i><b>4.2.3</b> Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-types.html"><a href="data-types.html#episode_2_lines"><i class="fa fa-check"></i><b>4.3</b> 4.2 Lines</a><ul>
<li class="chapter" data-level="4.3.1" data-path="data-types.html"><a href="data-types.html#example-1"><i class="fa fa-check"></i><b>4.3.1</b> Example</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-types.html"><a href="data-types.html#exercise-1-1"><i class="fa fa-check"></i><b>4.3.2</b> Exercise 1</a></li>
<li class="chapter" data-level="4.3.3" data-path="data-types.html"><a href="data-types.html#exercise-2-rivers-in-africa-flight-paths"><i class="fa fa-check"></i><b>4.3.3</b> Exercise 2 (rivers in Africa, flight paths?)</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-types.html"><a href="data-types.html#episode_3_polygons"><i class="fa fa-check"></i><b>4.4</b> 4.3 Polygons</a><ul>
<li class="chapter" data-level="4.4.1" data-path="data-types.html"><a href="data-types.html#example-2"><i class="fa fa-check"></i><b>4.4.1</b> Example</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-types.html"><a href="data-types.html#exercise-1-2"><i class="fa fa-check"></i><b>4.4.2</b> Exercise 1</a></li>
<li class="chapter" data-level="4.4.3" data-path="data-types.html"><a href="data-types.html#exercise-2-different-data-game-reserves"><i class="fa fa-check"></i><b>4.4.3</b> Exercise 2 (different data: game reserves)</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="data-types.html"><a href="data-types.html#episode_4_raster"><i class="fa fa-check"></i><b>4.5</b> 4.4 Rasters</a><ul>
<li class="chapter" data-level="4.5.1" data-path="data-types.html"><a href="data-types.html#example-3"><i class="fa fa-check"></i><b>4.5.1</b> Example</a></li>
<li class="chapter" data-level="4.5.2" data-path="data-types.html"><a href="data-types.html#exercise-1-3"><i class="fa fa-check"></i><b>4.5.2</b> Exercise 1</a></li>
<li class="chapter" data-level="4.5.3" data-path="data-types.html"><a href="data-types.html#exercise-2-different-data-elevation-data"><i class="fa fa-check"></i><b>4.5.3</b> Exercise 2 (different data: elevation data?)</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="data-types.html"><a href="data-types.html#summarykey-points"><i class="fa fa-check"></i><b>4.6</b> Summary/key points</a></li>
<li class="chapter" data-level="4.7" data-path="data-types.html"><a href="data-types.html#wrap-up-with-final-exercises"><i class="fa fa-check"></i><b>4.7</b> 4.5 Wrap up with final exercises</a><ul>
<li class="chapter" data-level="4.7.1" data-path="data-types.html"><a href="data-types.html#user-story"><i class="fa fa-check"></i><b>4.7.1</b> 2 User story</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="data-types.html"><a href="data-types.html#further-resources"><i class="fa fa-check"></i><b>4.8</b> 4.6 Further resources</a></li>
<li class="chapter" data-level="4.9" data-path="data-types.html"><a href="data-types.html#feedback-1"><i class="fa fa-check"></i><b>4.9</b> 4.7 Feedback</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="visualising1.html"><a href="visualising1.html"><i class="fa fa-check"></i><b>5</b> Visualising spatial data part 1: tmap and mapview</a><ul>
<li class="chapter" data-level="5.1" data-path="visualising1.html"><a href="visualising1.html#overall-goal-of-the-chapter-1"><i class="fa fa-check"></i><b>5.1</b> Overall goal of the chapter</a></li>
<li class="chapter" data-level="5.2" data-path="visualising1.html"><a href="visualising1.html#quick-interactive-maps-with-mapview"><i class="fa fa-check"></i><b>5.2</b> Quick interactive maps with mapview</a></li>
<li class="chapter" data-level="5.3" data-path="visualising1.html"><a href="visualising1.html#static-maps-with-tmap"><i class="fa fa-check"></i><b>5.3</b> Static maps with tmap</a><ul>
<li class="chapter" data-level="5.3.1" data-path="visualising1.html"><a href="visualising1.html#colour-pallet"><i class="fa fa-check"></i><b>5.3.1</b> Colour pallet</a></li>
<li class="chapter" data-level="5.3.2" data-path="visualising1.html"><a href="visualising1.html#different-layers-for-the-static-maps"><i class="fa fa-check"></i><b>5.3.2</b> Different layers for the static maps</a></li>
<li class="chapter" data-level="5.3.3" data-path="visualising1.html"><a href="visualising1.html#exercises"><i class="fa fa-check"></i><b>5.3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="visualising1.html"><a href="visualising1.html#interactive-maps-with-tmap"><i class="fa fa-check"></i><b>5.4</b> Interactive maps with tmap</a></li>
<li class="chapter" data-level="5.5" data-path="visualising1.html"><a href="visualising1.html#further-resources-1"><i class="fa fa-check"></i><b>5.5</b> Further resources</a></li>
<li class="chapter" data-level="5.6" data-path="visualising1.html"><a href="visualising1.html#solutions_ch5"><i class="fa fa-check"></i><b>5.6</b> Exercise solutions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>6</b> Shiny interactive map applications</a></li>
<li class="chapter" data-level="7" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>7</b> Sources of data</a><ul>
<li class="chapter" data-level="7.0.1" data-path="data-sources.html"><a href="data-sources.html#hdx"><i class="fa fa-check"></i><b>7.0.1</b> HDX</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="joining.html"><a href="joining.html"><i class="fa fa-check"></i><b>8</b> Join non-spatial data onto spatial</a></li>
<li class="chapter" data-level="9" data-path="raster.html"><a href="raster.html"><i class="fa fa-check"></i><b>9</b> Raster manipulation</a></li>
<li class="chapter" data-level="10" data-path="openstreetmap.html"><a href="openstreetmap.html"><i class="fa fa-check"></i><b>10</b> OpenStreetMap data</a></li>
<li class="chapter" data-level="11" data-path="data-editing.html"><a href="data-editing.html"><i class="fa fa-check"></i><b>11</b> Creating and editing spatial data</a><ul>
<li class="chapter" data-level="11.1" data-path="data-editing.html"><a href="data-editing.html#create-a-vector-file-from-scratch"><i class="fa fa-check"></i><b>11.1</b> Create a vector file from scratch</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="visualising2.html"><a href="visualising2.html"><i class="fa fa-check"></i><b>12</b> Visualising spatial data part 2</a></li>
<li class="chapter" data-level="13" data-path="case-study1.html"><a href="case-study1.html"><i class="fa fa-check"></i><b>13</b> Case study 1</a><ul>
<li class="chapter" data-level="13.1" data-path="case-study1.html"><a href="case-study1.html#health-facility-locations-probably"><i class="fa fa-check"></i><b>13.1</b> Health facility locations (probably)</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="case-study2.html"><a href="case-study2.html"><i class="fa fa-check"></i><b>14</b> Case study 2</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="15" data-path="template.html"><a href="template.html"><i class="fa fa-check"></i><b>15</b> Template chapter</a><ul>
<li class="chapter" data-level="15.1" data-path="template.html"><a href="template.html#linking-section-1"><i class="fa fa-check"></i><b>15.1</b> Linking section 1</a></li>
<li class="chapter" data-level="15.2" data-path="template.html"><a href="template.html#overall-goal-of-the-chapter-2"><i class="fa fa-check"></i><b>15.2</b> Overall goal of the chapter</a><ul>
<li class="chapter" data-level="" data-path="template.html"><a href="template.html#list-of-episodes-2"><i class="fa fa-check"></i>List of episodes</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="template.html"><a href="template.html#episode_1_template"><i class="fa fa-check"></i><b>15.3</b> Episode 1 (topic 1)</a></li>
<li class="chapter" data-level="15.4" data-path="template.html"><a href="template.html#episode_2_template"><i class="fa fa-check"></i><b>15.4</b> Episode 2 (topic 2)</a></li>
<li class="chapter" data-level="15.5" data-path="template.html"><a href="template.html#episode_3_template"><i class="fa fa-check"></i><b>15.5</b> Episode 3 (topic 3)</a></li>
<li class="chapter" data-level="15.6" data-path="template.html"><a href="template.html#further-resources-2"><i class="fa fa-check"></i><b>15.6</b> Further resources</a></li>
<li class="chapter" data-level="15.7" data-path="template.html"><a href="template.html#wrap-up-1"><i class="fa fa-check"></i><b>15.7</b> Wrap up</a></li>
<li class="chapter" data-level="15.8" data-path="template.html"><a href="template.html#exercise-solutions"><i class="fa fa-check"></i><b>15.8</b> Exercise solutions</a></li>
<li class="chapter" data-level="15.9" data-path="template.html"><a href="template.html#feedback-2"><i class="fa fa-check"></i><b>15.9</b> Feedback</a></li>
<li class="chapter" data-level="15.10" data-path="template.html"><a href="template.html#putting-into-practice"><i class="fa fa-check"></i><b>15.10</b> Putting into practice</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/afrimapr/book" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The afrimapr book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-types" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Chapter 4 Spatial data types with focus on real examples</h1>
<div id="overall-goal-of-the-chapter" class="section level2">
<h2><span class="header-section-number">4.1</span> Overall goal of the chapter</h2>
<p>Previous chapter provided a short recap of the R basics that are necessary to succesfully work through the geospatial training that has been drawn up in this book. This section will start with the very basics of geospatial mapping: the 4 different types of spatial data types that you will encounter.</p>
<p>The goal of any spatial map is to model reality, whether this is on the scale of a house, a neighbourhood, a country or a continent. Depending on the topics you’re interested in, this could be focussed on disease cases, landcover dynamics, location of schools and so on. The opportunities are endless. All the R software needs is information to visualise spatial data in a digital format. This is achieved by loading different spatial data types, which together form a model of reality. This section presents the four main data types: points, lines, polygons and rasters.</p>
<p>–&gt; interactive image with a different layer for points, lines, polygons and rasters (need help doing this, without the need to load data first..)
#mapview(list(africapitals, afrihighway),
# zcol = list(‘pop’,‘Name’),
# legend = list(TRUE, FALSE),<br />
# color = list(NULL, ‘red’),
# label = list(paste(africapitals<span class="math inline">\(countryname,&#39;:&#39;,africapitals\)</span>capitalname),
# afrihighway$Name) )</p>
<p>All spatial data types require a spatial reference frame or coordinate system identification to place data in the correct location in space. We will discuss this in more detail in chapter xxx. For now, just be aware that apart from your data file, additional data is necessary to place your points, lines, polygons and rasters in the correct location.</p>
<style>
div.blue { background-color:#e6f0ff; border-radius: 5px; padding: 20px;}
</style>
<div class="blue">
<p>Please note that spatial data types can be stored in many different formats, from Shapefile (.shp + .dbf + .prj + …), to GeoPackage (.gpkg), to CSV files (.csv). This can be overwhelming sometimes. Don’t hesitate to contact the owner of the data or use google to find out more!</p>
</div>
<p>This chapter is written for beginners, who have basic knowledge of R and no experience with spatial data. If you are familiar with the basic spatial data types, you can move on to the next chapter where visualisation of data types are explained in more detail.
<br/></p>
<style>
div.green { background-color:#e3ffd9; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<h3 id="learning-objectives-1"><span class="header-section-number">4.1</span> Learning objectives</h3>
<ul>
<li>Describe the difference between points, lines, polygons and raster data types</li>
<li>Identify data files from the four different spatial data types</li>
<li>Open data files from the four different spatial data types in R</li>
<li>Visualise data files from the four different spatial data types in R</li>
</ul>
</div>
<div id="list-of-episodes-1" class="section level3">
<h3><span class="header-section-number">4.1.1</span> List of episodes</h3>
<ol style="list-style-type: decimal">
<li><a href="data-types.html#episode_1_points">Points (cities)</a></li>
<li><a href="data-types.html#episode_2_lines">Lines (roads)</a></li>
<li><a href="data-types.html#episode_3_polygons">Polygons (country boundaries)</a></li>
<li><a href="data-types.html#episode_4_raster">Rasters (population density)</a></li>
</ol>
</div>
</div>
<div id="episode_1_points" class="section level2">
<h2><span class="header-section-number">4.2</span> 4.1 Points</h2>
<style>
div.green { background-color:palegreen; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<h3 id="learning-objectives-2"><span class="header-section-number">4.2</span> Learning objectives</h3>
<ul>
<li>Identify point data files</li>
<li>Open point data files</li>
<li>Visualise point data files</li>
</ul>
</div>
<p>Let’s take an imaginary walk outside. What do you see? Houses, cars, trees… All these objects have unique coordinates that can be used to identify their exact location. On a map, the objects can be drawn as points with their latitude and longitude coordinate indicating their exact location in relation to other objects and places. Depending on the scale of your map, points can represent anything from a house, health clinic, city or district. You, as the map creator, can decide the scale of your own map.</p>
<div id="example" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Example</h3>
<p>Lets try and visualise the capital cities of Africa.</p>
<p>Just a quick reminder of the necessary packages</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="data-types.html#cb63-1"></a><span class="kw">library</span>(afrilearndata) <span class="co">#load afrilearndata package</span></span>
<span id="cb63-2"><a href="data-types.html#cb63-2"></a></span>
<span id="cb63-3"><a href="data-types.html#cb63-3"></a><span class="co">#In case the data isn&#39;t loaded into your R environment automatically, they can be individually loaded using the codes below.</span></span>
<span id="cb63-4"><a href="data-types.html#cb63-4"></a><span class="kw">data</span>(africountries) <span class="co">#borders of the African countries</span></span>
<span id="cb63-5"><a href="data-types.html#cb63-5"></a><span class="kw">data</span>(africapitals) <span class="co">#location of the African capitals</span></span>
<span id="cb63-6"><a href="data-types.html#cb63-6"></a><span class="kw">data</span>(afrihighway) <span class="co">#the main highways in Africa</span></span>
<span id="cb63-7"><a href="data-types.html#cb63-7"></a><span class="kw">data</span>(afripop2000) <span class="co">#The population density accross Africa (Worldpop)</span></span></code></pre></div>
<p>We will start by downloading the necessary packages:
<em><a href="https://r-spatial.github.io/sf/">sf</a> package. This package is necessary to read in the spatial data files.
</em><a href="https://cran.r-project.org/web/packages/tmap/tmap.pdf">tmap</a> package. This package is necessary to create the maps.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="data-types.html#cb64-1"></a><span class="co">#install.packages(&quot;sf&quot;) #install sf package</span></span>
<span id="cb64-2"><a href="data-types.html#cb64-2"></a><span class="co">#install.packages(&quot;tmap&quot;) #install tmap package</span></span>
<span id="cb64-3"><a href="data-types.html#cb64-3"></a><span class="kw">library</span>(sf) <span class="co">#load sf package</span></span>
<span id="cb64-4"><a href="data-types.html#cb64-4"></a><span class="kw">library</span>(tmap) <span class="co">#load tmap package</span></span></code></pre></div>
<style>
div.blue { background-color:#e6f0ff; border-radius: 5px; padding: 20px;}
</style>
<div class="blue">
<p>Please note that more information can be found about the different packages using the Help tools explained in <a href="##%20chapter%203.8">chapter 3.8</a></p>
</div>
<p>Now, let’s look at the data file that contains information about the African capitals. A quick summary of the spatial aspects (geometry) of the datafile can be checked using the following code:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="data-types.html#cb65-1"></a><span class="kw">print</span>(<span class="kw">st_geometry</span>(africapitals)) <span class="co">#printing information on the geometry</span></span></code></pre></div>
<pre><code>## Geometry set for 50 features 
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: -17.48 ymin: -29.31 xmax: 47.51 ymax: 36.84
## Geodetic CRS:  WGS 84
## First 5 geometries:</code></pre>
<p>We can see from the results that the African capital data file contains 50 points (capitals) with geometry type <strong>POINT</strong>. Let’s print the first 6 rows of data, so we can see how the coordinates of each African captial is stored in the database.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="data-types.html#cb67-1"></a><span class="kw">head</span>(africapitals) <span class="co">#First 6 rows of data are printed</span></span></code></pre></div>
<pre><code>## Simple feature collection with 6 features and 4 fields
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: -0.2 ymin: -18.89 xmax: 47.51 ymax: 36.77
## Geodetic CRS:  WGS 84
##       capitalname countryname     pop iso3c             geometry
## 280         Abuja     Nigeria  178462   NGA    POINT (7.17 9.18)
## 308         Accra       Ghana 2029143   GHA    POINT (-0.2 5.56)
## 382   Addis Abeba    Ethiopia 2823167   ETH   POINT (38.74 9.03)
## 996       Algiers     Algeria 2029936   DZA   POINT (3.04 36.77)
## 1584 Antananarivo  Madagascar 1463754   MDG POINT (47.51 -18.89)
## 2193       Asmara     Eritrea  578860   ERI  POINT (38.94 15.33)</code></pre>
<p>The capitals all have one latitude and one longitude value. The geometry of the point data is stored as <em>POINT (Latitude, Longitude)</em>. On the location where the latitude and longitude overlap, a point will be drawn when POINT data is visualised.</p>
<style>
div.blue { background-color:#e6f0ff; border-radius: 5px; padding: 20px;}
</style>
<div class="blue">
<p>Please note that this database also includes the population of the capital as a seperate data column.</p>
</div>
<p>Let’s now visualise the African capitals by plotting their geometry using the tmap package.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="data-types.html#cb69-1"></a><span class="co"># tm_shape(africapitals) + #specify the data file</span></span>
<span id="cb69-2"><a href="data-types.html#cb69-2"></a><span class="co">#   tm_dots() # displaying the point geometry</span></span></code></pre></div>
<p>The <code>tmap</code> package works similar to the ggplot package. You need to first specify the data file you want to visualise using <code>tm_shape()</code>, after which the exact format of the spatial data can be specified. As we are working with point data in this example, the <code>tm_dots()</code> function is used. As with ggplot, there is a lot of flexibility in the colouring, shapes and sizes of the dots. For example, the dots can be turned red and labelled with the name of the city.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="data-types.html#cb70-1"></a><span class="co"># tm_shape(africapitals) +</span></span>
<span id="cb70-2"><a href="data-types.html#cb70-2"></a><span class="co">#   tm_dots(&quot;red&quot;)+ # displaying the point geometry as red dots</span></span>
<span id="cb70-3"><a href="data-types.html#cb70-3"></a><span class="co">#     tm_text(&quot;capitalname&quot;, size=0.7 ) #adding the name </span></span></code></pre></div>
<p>As you can see in the example above, the labelling makes the image messy. In these instances it is important to think about the message you are trying to convey. If the labelling is essential, you can look up the help section of the ‘tm_text’ using the help tool and play around with the different options to clean up the image.</p>
</div>
<div id="exercise-1" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Exercise 1</h3>
<p>In this first exercise, we will use the same African capital data as our example.
Below, We have visualised all capitals with &gt; 1.400.000 people using green squares of size 1. However, the code isn’t working. Can you find the <strong>four</strong> mistakes?</p>
<p><em>Hint: if you get stuck, look at ‘?tm_dots’</em></p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="data-types.html#cb71-1"></a><span class="co">#africapitals_ex1=africapitals %&gt;%</span></span>
<span id="cb71-2"><a href="data-types.html#cb71-2"></a><span class="co">#  filter(as.factor(`pop`) &gt; 1.400.000)</span></span>
<span id="cb71-3"><a href="data-types.html#cb71-3"></a></span>
<span id="cb71-4"><a href="data-types.html#cb71-4"></a><span class="co">#tm_shape(africapitals_ex1) +</span></span>
<span id="cb71-5"><a href="data-types.html#cb71-5"></a><span class="co">#  tm_dots(&quot;green&quot;, size=0.5)</span></span></code></pre></div>
<p>Answer:
<em>In the initial filter, <code>as.factor</code> needs to be changed to <code>as.numeric</code>
</em>Dots in 1.400.000 need to be removed
<em>The shape of the dots need to be specified as squares using <code>shape=22</code>
</em>The size of the points needs to be 1.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="data-types.html#cb72-1"></a><span class="co">#africapitals_ex1=africapitals %&gt;%</span></span>
<span id="cb72-2"><a href="data-types.html#cb72-2"></a><span class="co">#  filter(as.numeric(`pop`) &gt; 1400000)</span></span>
<span id="cb72-3"><a href="data-types.html#cb72-3"></a></span>
<span id="cb72-4"><a href="data-types.html#cb72-4"></a><span class="co">#tm_shape(africapitals_ex1) +</span></span>
<span id="cb72-5"><a href="data-types.html#cb72-5"></a><span class="co">#  tm_dots(&quot;green&quot;, shape = 22, size=1)</span></span></code></pre></div>
</div>
<div id="exercise-2" class="section level3">
<h3><span class="header-section-number">4.2.3</span> Exercise 2</h3>
<p>We will now use a different data type. We will download the locations of the big universities in Africa using open street map.</p>
</div>
</div>
<div id="episode_2_lines" class="section level2">
<h2><span class="header-section-number">4.3</span> 4.2 Lines</h2>
<style>
div.green { background-color:#e3ffd9; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<h3 id="learning-objectives-3"><span class="header-section-number">4.3</span> Learning objectives</h3>
<ul>
<li>Identify line data files</li>
<li>Open line data files</li>
<li>Visualise line data files</li>
</ul>
</div>
<p>In previous episode we looked at point data on a map. We are often interested in how these different points on a map are connect to eachother. Roads, rivers and flight pathes are just a few of the many ways that lines are used. Lines are one dimensional data which are drawn using points (and thus point data) connected to eachother in a set order. Depending on the detail of the lines, more or less points can be used.</p>
<div id="example-1" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Example</h3>
<p>For this example, we will look at the trans african highway network.
Let’s start by looking at a quick summary of the spatial aspects (geometry).</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="data-types.html#cb73-1"></a><span class="kw">print</span>(<span class="kw">st_geometry</span>(afrihighway)) <span class="co">#printing information on the geometry</span></span></code></pre></div>
<pre><code>## Geometry set for 100 features 
## Geometry type: LINESTRING
## Dimension:     XYZ
## Bounding box:  xmin: -17.38929 ymin: -33.95247 xmax: 43.13781 ymax: 37.08586
## z_range:       zmin: 0 zmax: 0
## Geodetic CRS:  WGS 84
## First 5 geometries:</code></pre>
<p>The results show that the African highway network contains 100 lines with geometry type <strong>LINESTRING</strong>.</p>
<p>Let’s now print the first 6 rows of data to see how line data is stored.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="data-types.html#cb75-1"></a><span class="kw">head</span>(afrihighway) <span class="co">#First 6 rows of data are printed</span></span></code></pre></div>
<pre><code>## Simple feature collection with 6 features and 1 field
## Geometry type: LINESTRING
## Dimension:     XYZ
## Bounding box:  xmin: -17.36938 ymin: 14.76957 xmax: -6.800537 ymax: 33.98436
## z_range:       zmin: 0 zmax: 0
## Geodetic CRS:  WGS 84
## # A tibble: 6 x 2
##   Name                                                                  geometry
##   &lt;chr&gt;                                                         &lt;LINESTRING [°]&gt;
## 1 Western Sahara (Morocco… Z (-16.94778 21.34438 0, -16.85303 21.96343 0, -16.5…
## 2 Mauritania Border- Daka… Z (-17.36938 14.76957 0, -16.9519 14.77488 0, -16.73…
## 3 Nouakchott- Senegal Bor… Z (-15.81069 16.52036 0, -16.11694 16.72039 0, -16.1…
## 4 Western Sahara Border- … Z (-15.99128 18.08646 0, -16.01807 18.49003 0, -16.1…
## 5 Marrakesh- Western Saha… Z (-12.95837 27.67623 0, -12.7002 28.0041 0, -12.128…
## 6 Rabat- Marrakesh Link    Z (-8.12439 31.79238 0, -8.02002 31.8589 0, -7.91564…</code></pre>
<p>Line data contain a string of data points with latitude and longitude: <em>LINESTRING(Latitude1, Longitude1, Latitude2, Longitude2, Latitude3, Longitude3,.. )</em>. During mapping, these points are connected to form a line.</p>
<p>Lets visualise these linestrings in red by plotting their geometry using the tmap package.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="data-types.html#cb77-1"></a><span class="co"># tm_shape(afrihighway) +</span></span>
<span id="cb77-2"><a href="data-types.html#cb77-2"></a><span class="co">#   tm_lines(&quot;red&quot;) #similar to tm_dots colour of the lines can be specified.</span></span></code></pre></div>
<style>
div.blue { background-color:#e6f0ff; border-radius: 5px; padding: 20px;}
</style>
<div class="blue">
<p>Please check out the help section to familiarise yourself with the many layout options available.</p>
</div>
<p>Now we can add the capitals from previous episode in blue</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="data-types.html#cb78-1"></a><span class="co"># tm_shape(africapitals) +</span></span>
<span id="cb78-2"><a href="data-types.html#cb78-2"></a><span class="co">#   tm_dots(&quot;blue&quot;, size=0.5)+</span></span>
<span id="cb78-3"><a href="data-types.html#cb78-3"></a><span class="co"># tm_shape(afrihighway) +</span></span>
<span id="cb78-4"><a href="data-types.html#cb78-4"></a><span class="co">#   tm_lines(&quot;red&quot;) # displaying the point geometry as red dots</span></span></code></pre></div>
When both points and lines are mapped, datasets need to be identified seperately in <code>tm_shape()</code> before the use of <code>tm_dots()</code> and <code>tm_lines()</code>.
<style>
div.blue { background-color:#e6f0ff; border-radius: 5px; padding: 20px;}
</style>
<div class="blue">
<p>Please note that the order of <code>tm_dots()</code> and <code>tm_lines()</code> matters. If you want the points overlaying the lines, it should be placed <em>after</em> the lines coding and visa versa.</p>
</div>
</div>
<div id="exercise-1-1" class="section level3">
<h3><span class="header-section-number">4.3.2</span> Exercise 1</h3>
<p>In the below exercise we have tried to visualise all the capitals and <em>only</em> the roads starting with the letter ‘b’.
However, we have messed up the order of the code. Can you rearrange the code?</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="data-types.html#cb79-1"></a><span class="co">#need to check the code before rearranging it</span></span>
<span id="cb79-2"><a href="data-types.html#cb79-2"></a>afrihighway_ex1=afrihighway[<span class="kw">grep</span>(<span class="st">&quot;^B&quot;</span>, afrihighway<span class="op">$</span>Name),]</span>
<span id="cb79-3"><a href="data-types.html#cb79-3"></a><span class="co"># tm_shape(africapitals) + #important that capitals are visualised first </span></span>
<span id="cb79-4"><a href="data-types.html#cb79-4"></a><span class="co">#   tm_dots(&quot;blue&quot;, size=0.5)+</span></span>
<span id="cb79-5"><a href="data-types.html#cb79-5"></a><span class="co">#     tm_shape(afrihighway_ex1)+</span></span>
<span id="cb79-6"><a href="data-types.html#cb79-6"></a><span class="co">#   tm_lines(&quot;blue&quot;) </span></span></code></pre></div>
</div>
<div id="exercise-2-rivers-in-africa-flight-paths" class="section level3">
<h3><span class="header-section-number">4.3.3</span> Exercise 2 (rivers in Africa, flight paths?)</h3>
<ul>
<li>make this slightly more complicated by selecting rivers than are at least 100 km long?</li>
</ul>
</div>
</div>
<div id="episode_3_polygons" class="section level2">
<h2><span class="header-section-number">4.4</span> 4.3 Polygons</h2>
<style>
div.green { background-color:#e3ffd9; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<h3 id="learning-objectives-4"><span class="header-section-number">4.4</span> Learning objectives</h3>
<ul>
<li>Identify polygon data files</li>
<li>Open polygon data files</li>
<li>Visualise polygon data files</li>
</ul>
</div>
<ul>
<li><p>If a line has the same first and last coordinate, this creates a closed figure: a polygon. Similar to lines, depending on the detail of the map, more or less points can be used to create a polygon.</p></li>
<li><p>Polygons are two dimension data. Examples include country boundaries and continent outlines.</p></li>
<li><p>Often times one polygon is not sufficient to visualise complicated shapes. Several polygons are necessary: these shapes are called mulipolygons. The different polygons in one data row indicate either areas to include or exclude from the final image.</p></li>
</ul>
<p>For example the continent outline of Africa is a multipolygon.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="data-types.html#cb80-1"></a><span class="kw">plot</span>(<span class="kw">st_geometry</span>(africontinent), <span class="dt">col =</span> <span class="st">&quot;lightblue&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-51-1.png" width="672" /></p>
<ul>
<li>One polygon is used to visualise mainland of Africa. An additional polygon is used for Madagascar. Together they represent the whole African continent.</li>
</ul>
<p>–&gt; This might be a simple polygon and not a multipolygon…
An example of a multipolygon where areas are excluded is the country border of South Africa. Lesotho is entirely surrounded by South Africa. If we want to visualise South Africa, we need to make sure that the Lesotho area is excluded. Visualisation of South Africa therefore requires two polygons, one to outline the outer borders and one to highlight the area to exclude (Lesotho country borders).</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="data-types.html#cb81-1"></a><span class="co">#africountries_ex=africountries %&gt;%</span></span>
<span id="cb81-2"><a href="data-types.html#cb81-2"></a><span class="co">#  filter(`name` == &quot;South Africa&quot;)</span></span>
<span id="cb81-3"><a href="data-types.html#cb81-3"></a></span>
<span id="cb81-4"><a href="data-types.html#cb81-4"></a><span class="co">#plot(st_geometry(africountries_ex), col = &quot;lightblue&quot;) </span></span></code></pre></div>
<ul>
<li>As you can see in the image above, when the border lines of South Africa are visualised, a white area is visible inside the country (representing Lesotho), which is not part of South Africa.</li>
</ul>
<div id="example-2" class="section level3">
<h3><span class="header-section-number">4.4.1</span> Example</h3>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="data-types.html#cb82-1"></a><span class="kw">print</span>(<span class="kw">st_geometry</span>(africountries)) <span class="co">#printing information on the geometry</span></span></code></pre></div>
<pre><code>## Geometry set for 51 features 
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: -17.62504 ymin: -34.81917 xmax: 51.13387 ymax: 37.34999
## Geodetic CRS:  WGS 84
## First 5 geometries:</code></pre>
<p>The country border file contains 51 country outlines with geometry type <strong>MULTIPOLYGON</strong>.</p>
<p>If we print the first 6 rows of data, we can see how each country border is stored in the database</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="data-types.html#cb84-1"></a><span class="kw">head</span>(africountries) <span class="co">#First 6 rows of data are printed</span></span></code></pre></div>
<pre><code>## Simple feature collection with 6 features and 11 fields
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: -17.06342 ymin: -13.25723 xmax: 51.13387 ymax: 27.65643
## Geodetic CRS:  WGS 84
##               name                        name_long  pop_est gdp_md_est
## 1         Tanzania                         Tanzania 53950935   150600.0
## 2        W. Sahara                   Western Sahara   603253      906.5
## 11 Dem. Rep. Congo Democratic Republic of the Congo 83301151    66010.0
## 12         Somalia                          Somalia  7531386     4719.0
## 13           Kenya                            Kenya 47615739   152700.0
## 14           Sudan                            Sudan 37345935   176300.0
##    lastcensus             income_grp iso_a3                       geometry
## 1        2002          5. Low income    TZA MULTIPOLYGON (((33.90371 -0...
## 2          NA          5. Low income    ESH MULTIPOLYGON (((-8.66559 27...
## 11       1984          5. Low income    COD MULTIPOLYGON (((29.34 -4.49...
## 12       1987          5. Low income    SOM MULTIPOLYGON (((41.58513 -1...
## 13       2009          5. Low income    KEN MULTIPOLYGON (((39.20222 -4...
## 14       2008 4. Lower middle income    SDN MULTIPOLYGON (((24.56737 8....
##              name_fr          name_pt                              name_af
## 1           Tanzanie         Tanzânia                             Tanzanië
## 2  Sahara occidental  Saara Ocidental                           Wes-Sahara
## 11    Congo-Kinshasa Congo - Kinshasa Demokratiese Republiek van die Kongo
## 12           Somalie          Somália                              Somalië
## 13             Kenya           Quênia                                Kenia
## 14            Soudan            Sudão                               Soedan
##                             name_sw
## 1                          Tanzania
## 2                  Sahara Magharibi
## 11 Jamhuri ya Kidemokrasia ya Kongo
## 12                          Somalia
## 13                            Kenya
## 14                            Sudan</code></pre>
<p>Geometry data contains a list within multiple polygons that are represented as data points with latitude and longitude. These points are connected to form multiple polygons which are either used to include or exclude areas from the final image.
The geometry of the multipolygon data is stored as <em>MULTIPOLYGON (((Latitude1, Longitude1, Latitude2, Longitude2, Latitude3, Longitude3,.. ),(Latitude1, Longitude1, ..)),(Latitude1, Longitude1, …)))</em>. This needs further clarification.</p>
<p>Lets visualise these multipolygons in black</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="data-types.html#cb86-1"></a><span class="co"># tm_shape(africountries) +</span></span>
<span id="cb86-2"><a href="data-types.html#cb86-2"></a><span class="co">#   tm_borders() #if only borders need to be visualised</span></span>
<span id="cb86-3"><a href="data-types.html#cb86-3"></a><span class="co"># </span></span>
<span id="cb86-4"><a href="data-types.html#cb86-4"></a><span class="co"># tm_shape(africountries) +</span></span>
<span id="cb86-5"><a href="data-types.html#cb86-5"></a><span class="co">#   tm_polygons() #if you want the image to specify the multipologon area</span></span></code></pre></div>
<p>Now we can add the capitals and highways from previous episodes</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="data-types.html#cb87-1"></a><span class="co"># tm_shape(africountries) +</span></span>
<span id="cb87-2"><a href="data-types.html#cb87-2"></a><span class="co">#   tm_borders()+</span></span>
<span id="cb87-3"><a href="data-types.html#cb87-3"></a><span class="co"># tm_shape(africapitals) +</span></span>
<span id="cb87-4"><a href="data-types.html#cb87-4"></a><span class="co">#   tm_dots(&quot;blue&quot;, size=0.5)+</span></span>
<span id="cb87-5"><a href="data-types.html#cb87-5"></a><span class="co"># tm_shape(afrihighway) +</span></span>
<span id="cb87-6"><a href="data-types.html#cb87-6"></a><span class="co">#   tm_lines(&quot;red&quot;) # displaying the point geometry as red dots</span></span></code></pre></div>
</div>
<div id="exercise-1-2" class="section level3">
<h3><span class="header-section-number">4.4.2</span> Exercise 1</h3>
<p>Multiple choice to identify if datafiles contain point, line or multipolygon geometry
-need to identify two different datafiles to use.
–&gt; list of data : the students need to identify what kind of geometry type the data file contains
–&gt; Visual example: the students need to identify what kind of geometry type the data file contains that is visualised in the example.</p>
<p>a Point data
b Line data
c Multipolygon data
d All of the above</p>
<p>If wrong: go back (explain why wrong)</p>
</div>
<div id="exercise-2-different-data-game-reserves" class="section level3">
<h3><span class="header-section-number">4.4.3</span> Exercise 2 (different data: game reserves)</h3>
<p>Visualise the Malawi country border in black and district borders in green.</p>
<p>Points, lines and polygons are grouped together as vector data. Several points together can form a line and several lines together form a polygon. They are all dependent on coordinates and their datafiles look very similar. Rasters are a group of their own. They are made up of a grid of pixels, with each grid containing values.</p>
</div>
</div>
<div id="episode_4_raster" class="section level2">
<h2><span class="header-section-number">4.5</span> 4.4 Rasters</h2>
<style>
div.green { background-color:#e3ffd9; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<h3 id="learning-objectives-5"><span class="header-section-number">4.5</span> Learning objectives</h3>
<ul>
<li>Explain the difference between vector and raster data</li>
<li>Identify raster data files</li>
<li>Open raster data files</li>
<li>Visualise raster data files</li>
</ul>
</div>
<ul>
<li><p>Episode 1 to 3 are focussed on vector data. Vector data uses points, lines, polygons to model the real world.</p></li>
<li><p>I extracted the text below. Needs to be re-written.</p></li>
<li><p>Raster data is a matrix of grid cells. Each cell represents a geographical location and contains a value that represents a characteristict of that region [ref]. Represents large areas with continuously changing values.</p></li>
</ul>
<p>–&gt; image of a simple raster: with data</p>
<ul>
<li><p>Raster data is used when displaying information that is continuous across an area and cannot easily be divided into vector features(vectors aren’t very good at representing features that are not homogeneous). examples: population density, landcover variation, elevation.</p></li>
<li><p>Rasters are often backdrop for vector data.</p></li>
<li><p>Raster data is extracted from eg. satellite imagery, drone imagery, surveys,</p></li>
<li><p>Depending on the number of grid cells, this can result in a smooth image, or visualisation of individual grid cells. Raster datasets can become potentially very large because they record values for each cell in an image. As resolution increases, the size of the cell decreases. But this comes at a cost for speed of processing and data storage.</p></li>
</ul>
<p>To read in raster data, we need to install and load the ‘raster’ package.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="data-types.html#cb88-1"></a><span class="co">#install.packages(&quot;raster&quot;) #install sf package</span></span>
<span id="cb88-2"><a href="data-types.html#cb88-2"></a><span class="kw">library</span>(raster) <span class="co"># load raster package</span></span></code></pre></div>
<div id="example-3" class="section level3">
<h3><span class="header-section-number">4.5.1</span> Example</h3>
<p>To show raster data, in this example we use population data from 2000 and 2020.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="data-types.html#cb89-1"></a><span class="co">#print(afripop2000) #printing information on the raster data file</span></span></code></pre></div>
<p>The population raster data from 2000 contains 434 rows, 413 columns and a total of 179242 grid cells with geometry type <strong>RasterLayer </strong>.</p>
<p>If we print the first 6 rows of data, we can see how each country border is stored in the database</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="data-types.html#cb90-1"></a><span class="co">#head(afripop2000) #First 6 rows of data are printed</span></span></code></pre></div>
<p>Why do you think the first 6 data points are empty?</p>
<p>Better to see a few more grid cells in the raster layer.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="data-types.html#cb91-1"></a><span class="co">#getValues(afripop2000)</span></span></code></pre></div>
<p>The raster layer consists of a matrix with values. The grid cells can be empty if no data is available.</p>
<p>Lets visualise the population data with the country borders (example from <a href="https://andysouth.shinyapps.io/afrilearnr-crash-course/#section-tmap-map-vector-and-raster-data">afrilearnr</a>.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="data-types.html#cb92-1"></a><span class="co">#tm_shape(afripop2020) +</span></span>
<span id="cb92-2"><a href="data-types.html#cb92-2"></a><span class="co">#    tm_raster(palette = rev(viridisLite::magma(5)), breaks=c(0,2,20,200,2000,25000)) +</span></span>
<span id="cb92-3"><a href="data-types.html#cb92-3"></a><span class="co">#tm_shape(africountries) +</span></span>
<span id="cb92-4"><a href="data-types.html#cb92-4"></a><span class="co">#    tm_borders() </span></span></code></pre></div>
<style>
div.blue { background-color:#e6f0ff; border-radius: 5px; padding: 20px;}
</style>
<div class="blue">
<p>Please note that population density data are highly skewed. To ensure both high and low density areas are clearly visible, we have to specify the data breaks manually.</p>
</div>
<p>Now we can add the capitals and highways from previous episodes</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="data-types.html#cb93-1"></a><span class="co">#tm_shape(afripop2020) +</span></span>
<span id="cb93-2"><a href="data-types.html#cb93-2"></a><span class="co">#    tm_raster(palette = rev(viridisLite::magma(5)), breaks=c(0,2,20,200,2000,25000)) +</span></span>
<span id="cb93-3"><a href="data-types.html#cb93-3"></a><span class="co">#tm_shape(africountries) +</span></span>
<span id="cb93-4"><a href="data-types.html#cb93-4"></a><span class="co">#    tm_borders(&quot;white&quot;, lwd = .5) +</span></span>
<span id="cb93-5"><a href="data-types.html#cb93-5"></a><span class="co">#tm_shape(afrihighway) +</span></span>
<span id="cb93-6"><a href="data-types.html#cb93-6"></a><span class="co">#    tm_lines(col = &quot;red&quot;) + </span></span>
<span id="cb93-7"><a href="data-types.html#cb93-7"></a><span class="co">#tm_shape(africapitals) +</span></span>
<span id="cb93-8"><a href="data-types.html#cb93-8"></a><span class="co">#    tm_symbols(col = &quot;blue&quot;, alpha=0.4, scale = .6 )+</span></span>
<span id="cb93-9"><a href="data-types.html#cb93-9"></a><span class="co">#tm_legend(show = FALSE)</span></span></code></pre></div>
</div>
<div id="exercise-1-3" class="section level3">
<h3><span class="header-section-number">4.5.2</span> Exercise 1</h3>
</div>
<div id="exercise-2-different-data-elevation-data" class="section level3">
<h3><span class="header-section-number">4.5.3</span> Exercise 2 (different data: elevation data?)</h3>
</div>
</div>
<div id="summarykey-points" class="section level2">
<h2><span class="header-section-number">4.6</span> Summary/key points</h2>
<ul>
<li>Points are ..</li>
<li>Lines are ..</li>
<li>Polygons are ..</li>
<li>Rasters are ..</li>
</ul>
</div>
<div id="wrap-up-with-final-exercises" class="section level2">
<h2><span class="header-section-number">4.7</span> 4.5 Wrap up with final exercises</h2>
<p>In this chapter we learned xxxx</p>
<p>Try to solve the exercises below tp
### 1 Visualise</p>
<div id="user-story" class="section level3">
<h3><span class="header-section-number">4.7.1</span> 2 User story</h3>
</div>
</div>
<div id="further-resources" class="section level2">
<h2><span class="header-section-number">4.8</span> 4.6 Further resources</h2>
<p>If you are interested in learning more about the different spatial data types, please visit:</p>
<ul>
<li><p><a href="https://datacarpentry.org/geospatial-workshop/">Geospatial workshop</a></p></li>
<li><p><a href="https://datacarpentry.org/organization-geospatial/">Geospatial data organization</a></p></li>
<li><p><a href="https://datacarpentry.org/r-intro-geospatial/">Introduction to geospatial data</a></p></li>
<li><p><a href="https://datacarpentry.org/r-raster-vector-geospatial/">Raster and vector data</a></p></li>
</ul>
</div>
<div id="feedback-1" class="section level2">
<h2><span class="header-section-number">4.9</span> 4.7 Feedback</h2>
<ul>
<li>Request on what was useful to the reader (learner) and what can be improved: Is this necessary after each chapter? Feels slightly repetitive.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rrecap.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="visualising1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/afrimapr/book-demo/edit/master/04-data-types.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
